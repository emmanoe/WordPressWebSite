'use strict';(function(b,f){const l=function(d){const k=[],h=d.find("#searchform input"),c=d.find(".search-results-wrap");let g;b(".search-button, #close-search-box").on("click",function(a){a.preventDefault();h.val().length?d.addClass("search-active"):d.removeClass("search-active");b(this).hasClass("search-button")?(d.fadeIn(function(){h.focus();f.body.css("overflow-y","hidden")}),f.body.addClass("searchform-slidedown")):(g&&g.abort(),d.fadeOut(),f.body.css("overflow-y","visible").removeClass("searchform-slidedown"))});
c.on("click",".search-option-tab a",function(a){a.preventDefault();a=b(this).attr("href").replace("#","");"all"===a?a="item":c.find(".result-item").stop().fadeOut();0<b("#result-link-"+a).length&&(b(".view-all-button").hide(),b("#result-link-"+a).show());c.find(".result-"+a).stop().fadeIn();b(this).closest("li").addClass("active").siblings("li").removeClass("active")});h.prop("autocomplete","off").on("keyup",function(a){function f(a){0>a&&(a=0);c.find(".search-option-tab li").eq(a).children("a").trigger("click");
c.show()}0<b(this).val().length?d.addClass("search-active"):d.removeClass("search-active");if(48<=a.keyCode&&57>=a.keyCode||65<=a.keyCode&&90>=a.keyCode||8===a.keyCode||229===a.keyCode){let e=b.trim(b(this).val());e?k[e]?(a=c.find(".search-option-tab li.active").index(),c.hide().html(k[e]),f(a)):setTimeout(function(){e=b.trim(h.val());g&&g.abort();e?g=b.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"themify_search_autocomplete",term:e},beforeSend:function(){d.addClass("themify-loading")},
complete:function(){d.removeClass("themify-loading")},success:function(a){if(!e)c.html("");else if(a){const b=c.find(".search-option-tab li.active").index();c.hide().html(a);f(b);c.find(".search-option-tab li.active");k[e]=a}}}):c.html("")},100):c.html("")}})};f.on("themify_theme_search_init",function(b){l(b)})})(jQuery,Themify);
