'use strict';(function(k,d,e,q){function l(a){this.element=a;this.init()}const r=k(e),b=[],m=function(){for(let a=b.length-1;-1<a;--a)b[a]&&b[a].element?b[a].update(a):f(a)},n=function(a){a&&(g=a.h);for(a=b.length-1;-1<a;--a)b[a]&&b[a].element?(b[a].top=b[a].element.offset().top,b[a].update(a)):f(a)},f=function(a){b[a]&&(b[a].classList&&b[a].classList.remove("builder-parallax-scrolling"),b.splice(a,1),0===b.length&&(d.off("tfsmartresize",n),e.removeEventListener("scroll",m,{passive:!0}),h=null))};
let g=null,h=null;l.prototype={top:0,init(){this.top=this.element.offset().top;const a=this.element.css("background-image").replace(/(url\(|\)|")/g,"");if(a&&"none"!==a){const p=new Image,c=this;p.src=a;d.imagesLoad(p,function(a){a=a.elements[0];a.w=a.width;a.h=a.height;b.push(c);c.update()})}else b.push(self),this.update();null===h&&(g=d.h,d.on("tfsmartresize",n),e.addEventListener("scroll",m,{passive:!0}),h=!0)},update(a){if(!1!==q.body.contains(this.element[0])&&this.element[0].classList.contains("builder-parallax-scrolling")){var b=
r.scrollTop(),c=this.element.offset().top;a=this.element.outerHeight(!0);c+a<b||c>b+g||(this.element[0].style.backgroundPositionY="calc(50% + "+Math.round(.1*(c-b))+"px)",c=Math.max(this.element.outerWidth(!0)/this.w,a/this.h),b=Math.round(this.w*c),c=Math.round(this.h*c),this.element[0].style.backgroundSize=c===Math.round(a)?Math.round(1.3*b)+"px "+Math.round(1.3*c)+"px":"")}else f(a)}};d.on("tb_parallax_init",function(a){a instanceof jQuery&&(a=a.get());void 0===a.length&&(a=[a]);for(let b=a.length-
1;-1<b;--b){let c=k(a[b]);c.data("plugin_builderParallax")||c.data("plugin_builderParallax",new l(c))}})})(jQuery,Themify,window,document);
