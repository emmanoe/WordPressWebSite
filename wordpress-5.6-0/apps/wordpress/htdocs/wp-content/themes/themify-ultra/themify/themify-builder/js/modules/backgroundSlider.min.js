'use strict';(function(h,b,r,f){var n=f.backgroundSlider&&f.backgroundSlider.autoplay?parseInt(f.backgroundSlider.autoplay.autoplay,10):5E3;const q=function(a){10>=n&&(n*=1E3);a instanceof jQuery&&(a=a.get());for(let e=a.length-1;-1<e;--e){let f=h(a[e]),g=f.parent(),d=a[e].getElementsByTagName("li"),k=[];for(var c=d.length-1;-1<c;--c)k.push({url:d[c].getAttribute("data-bg"),alt:d[c].getAttribute("data-bg-alt")});g.tb_backstretch(k,{speed:parseInt(a[e].getAttribute("data-sliderspeed")),duration:n,
mode:a[e].getAttribute("data-bgmode")});let l=g.data("tb_backstretch"),m=f.find(".row-slider-slides > li");d=a[e].querySelectorAll(".row-slider-prev,.row-slider-next,.row-slider-dot");for(c=d.length-1;-1<c;--c)d[c].classList.contains("row-slider-dot")?d[c].addEventListener("click",function(){l.show(h(this).data("index"))},{passive:!0}):d[c].addEventListener("click",function(a){a.preventDefault();h(this).hasClass("row-slider-prev")?l.prev():l.next()});m[0]&&(m[0].classList.add("row-slider-dot-active"),
g.on("tb_backstretch.show",function(a,b){a=m.eq(l.index);a[0]&&(m.removeClass("row-slider-dot-active"),a.addClass("row-slider-dot-active"))}));if("kenburns-effect"===a[e].getAttribute("data-bgmode")){let a,c=0;const e=4<k.length?4:k.length;g.on("tb_backstretch.before",function(b,d){setTimeout(function(){a!=d.index&&(d.$wrap.find("img").last().addClass("kenburns-effect"+(c+1>e?c=1:++c)),a=d.index)},50)}).on("tb_backstretch.after",function(b,d){b=d.$wrap.find("img").last();/kenburns-effect\d/.test(b.attr("class"))||
(b.addClass("kenburns-effect"+(c+1>e?c=1:++c)),a=d.index)});if(b.is_builder_active)g.on("backstretch.show",function(a,b,c){g.css("zIndex",0)})}}},p=function(a){!0===b.cssLazy.tb_bgslider_css&&!0===b.jsLazy.tf_backstretch&&q(a)};b.on("tb_bgslider_init",function(a){!0!==b.cssLazy.tb_bgslider_css&&b.LoadCss(ThemifyBuilderModuleJs.cssUrl+"backgroundSlider.css",null,null,null,function(){b.cssLazy.tb_bgslider_css=!0;p(a)});!0!==b.jsLazy.tf_backstretch&&b.LoadAsync(b.url+"/js/backstretch.themify-version.min.js",
function(){b.jsLazy.tf_backstretch=!0;p(a)},"2.0.4",null,function(){return"undefined"!==typeof h.fn.tb_backstretch});p(a)})})(jQuery,Themify,themify_vars,tbLocalScript);
