'use strict';(function(A,d,v,l){let r=!1,k=null,t=!0,y=!0,q=!1,h=null;const g=Object.assign({speed:900,element:"module_row",offset:null,navigation:"#main-nav,.module-menu .nav",updateHash:!0},tbLocalScript.scrollHighlight),m=g.offset,f=v.top,n=l.getElementById("headerwrap"),x={init(a){t=null!==n&&d.body[0].classList.contains("fixed-header-enabled")||m;if(!1===q){const a=f.location.hash.replace("#","");if(a&&"#"!==a){var b=w(l.querySelectorAll("."+g.element+'[data-anchor="'+a+'"]'));if(!b){const c=
["tab","accordion"];for(let e=c.length-1;-1<e;--e){let p=l.querySelectorAll("."+c[e]+'-content[data-id="'+a+'"]'),f=p.length,g=[];if(0<f){for(b=0;b<f;++b)g.push(p[b].closest(".module"));if(b=w(g)){let b=l.querySelector('a[href="#'+a+'"]');if(b){const a=function(){b.click()};if(d.jsLazy["tb_"+c[e]])a();else d.on("tb_"+c[e]+"_init",function(){setTimeout(a,100)},!0);break}}}}}b&&this.scrollTo(b,a)}q=!0}this.createObserver(a)},changeHash(){if(!1===r){const b=f.location.hash.replace("#",""),c=l.querySelectorAll(g.navigation);
for(let d=c.length-1;-1<d;--d){let e=c[d].getElementsByClassName("current-menu-item");for(var a=e.length-1;-1<a;--a)null===h&&(h=e[a].getElementsByTagName("a")[0].getAttribute("href")),e[a].classList.remove("current_page_item","current-menu-item");(e=""!==b&&"#"!==b?c[d].querySelectorAll('a[href*="#'+b+'"]'):null)&&0!==e.length||(e=c[d].querySelectorAll('a[href="'+h+'"]'));for(a=e.length-1;-1<a;--a){let b=e[a].parentNode;b.classList.add("current-menu-item");b.classList.contains("menu-item-object-page")&&
b.classList.add("current_page_item")}}null===h&&(h=f.location.href.split("#")[0])}},calculatePosition(a){a=A(a).offset().top+2;if(!0===t)if(m)a-=m-2;else if(n.classList.contains("fixed-header")){const b=n.getBoundingClientRect().bottom+2;a>=b&&(a-=b)}return a},scrollTo(a,b){r=!0;a.hasAttribute("data-lazy")&&d.lazyScroll(d.convert(d.selectWithParent("[data-lazy]",a)).reverse(),!0);const c=d.lazyScrolling,p=this,e=!1===q,k=function(){const k=z(),h=l.getElementsByClassName(g.element),q=new v.IntersectionObserver(function(b,
a){for(let a=b.length-1;-1<a;--a)!0===b[a].isIntersecting&&d.lazyScroll(d.convert(d.selectWithParent("[data-lazy]",b[a].target)).reverse(),!0);a.disconnect()},{threshold:.1});for(let a=h.length-1;-1<a;--a)h[a].hasAttribute("data-lazy")&&!h[a].classList.contains("hide-"+k)&&q.observe(h[a]);!0===t&&(m||n.classList.contains("fixed-header"))&&d.scrollTo(p.calculatePosition(a),g.speed);d.lazyScrolling=c;r=!1;!1===e&&(b=a.hasAttribute("data-hide-anchor")?"":"#"+b.replace("#",""),f.history.replaceState(null,
null,b));u()},h=!0!==t||n.classList.contains("fixed-header")&&!m?null:function(){(m||n.classList.contains("fixed-header"))&&d.scrollTo(p.calculatePosition(a),g.speed,k)};d.lazyScrolling=!0;d.scrollTo(p.calculatePosition(a),g.speed,k,h)},createObserver(a){if(g.updateHash){null===k&&(k=new v.IntersectionObserver(function(a,c){if(!1===r){c=!1;for(let b=0,d=a.length;b<d;++b)!0===a[b].isIntersecting&&(c=a[b].target.getAttribute("data-anchor"));!1===c?!1===y?f.history.replaceState(null,null," "):y=!1:(f.history.replaceState(null,
null,"#"+c),u())}},{rootMargin:"0px 0px -100%",thresholds:[0,1]}));a=d.selectWithParent(g.element,a);for(let b=a.length-1;-1<b;--b)if(!a[b].hasAttribute("data-hide-anchor")){let c=a[b].getAttribute("data-anchor");c&&"#"!==c&&k.observe(a[b])}}}},z=function(){const a=d.w,b=tbLocalScript.breakpoints;for(let c in b)if(Array.isArray(b[c])){if(a>=b[c][0]&&a<=b[c][1])return c}else if(a<=b[c])return c;return"desktop"},w=function(a){if(!a[1])return a[0]?a[0]:null;let b=z();for(let c=0,d=a.length;c<d;++c)if(!a[c].classList.contains("hide-"+
b))return a[c];return null},u=function(){x.changeHash()};d.on("tb_scroll_highlight_enable",function(){f.addEventListener("hashchange",u,{passive:!0});d.body.on("click.tb_scroll_highlight",'[href*="#"]',function(a){var b=this.getAttribute("href");if(""!==b&&null!==b&&"#"!==b&&(b=new URL(b,f.location),b.hostname===f.location.hostname&&b.hash&&b.pathname===f.location.pathname&&(b=b.hash,""!==b&&"#"!==b))){const c=w(l.querySelectorAll("."+g.element+'[data-anchor="'+b.replace("#","")+'"]'));c&&(a.preventDefault(),
a.stopPropagation(),d.trigger("tf_side_menu_hide_all"),x.scrollTo(c,b))}})}).on("tb_scroll_highlight_disable",function(){k&&(k.disconnect(),k=null);f.removeEventListener("hashchange",u,{passive:!0});d.body.off("click.tb_scroll_highlight")}).on("tb_init_scroll_highlight",function(a){x.init(a)}).trigger("tb_scroll_highlight_enable")})(jQuery,Themify,window,document);
