'use strict';(function(h,b,m){const l=m.cssUrl+"gallery_styles/",k={};let f=document.getElementById("tb_inline_styles");b.on("tb_gallery_init",function(a){const e=[];a instanceof jQuery&&(a=a.get());for(let g=a.length-1;-1<g;--g)if(!b.cssLazy.tb_gallery_showcase&&a[g].classList.contains("layout-showcase"))b.cssLazy.tb_gallery_showcase=!0,b.LoadCss(l+"showcase.css");else if(!b.cssLazy.tb_gallery_lightboxed&&a[g].classList.contains("layout-lightboxed"))b.cssLazy.tb_gallery_lightboxed=!0,b.LoadCss(l+
"lightboxed.css");else if(a[g].classList.contains("layout-grid")){b.cssLazy.tb_gallery_grid||(b.cssLazy.tb_gallery_grid=!0,b.LoadCss(l+"grid.css"));let c=a[g].getElementsByClassName("gallery-masonry")[0];if(c&&!c.classList.contains("gallery-columns-1")){let a="";var d=window.getComputedStyle(c);let b=d.getPropertyValue("--galN");(d=parseFloat(d.getPropertyValue("--galG")))||(d=1.5);if(!b){let a=c.classList;for(let e=a.length-1;-1<e;--e)if(-1!==a[e].indexOf("gallery-columns-")){b=a[e].replace("gallery-columns-",
"");break}}b&&(b=parseInt(b),k.block||(k.block=!0,a=".gallery-masonry.masonry-done{display:block}.gallery-masonry.masonry-done>.gutter-sizer{width:"+d+"%}"),k[b]||(k[b]=!0,d=parseFloat((100-(b-1)*d)/b).toFixed(2).replace(".00",""),a+=".gallery-columns-"+b+".masonry-done .gallery-item{width:"+d+"%}"),""!==a&&(null===f?(f=document.createElement("style"),f.textContent=a,document.head.prepend(f)):f.innerText+=a),e.push(c))}}0<e.length&&b.isoTop(e,{itemSelector:".gallery-item",columnWidth:!1})});b.body.on("click",
".module-gallery .pagenav a",function(a){a.preventDefault();const b=h(this).closest(".module-gallery"),d=b[0].classList;h.ajax({url:this,beforeSend:function(){d.add("builder_gallery_load")},complete:function(){d.remove("builder_gallery_load")},success:function(a){if(a){const c=b[0].className.match(/tb_?.[^\s]+/);null!==c&&"undefined"!==typeof c[0]?b.html(h(a).find("."+c[0]).first().html()):b.html(h(a).find(".module-gallery").first().html());d.contains("masonry-done")&&(d.remove("masonry-done"),d.add("masonry"));
m.gallery(b)}}})}).on("click",".layout-showcase.module-gallery a",function(a){a.preventDefault();a.stopPropagation();const e=this.closest(".gallery").getElementsByClassName("gallery-showcase-image")[0];a=e.getElementsByClassName("gallery-showcase-title")[0];const d=e.getElementsByClassName("gallery-showcase-title-text")[0],g=e.getElementsByClassName("gallery-showcase-caption")[0],c=new Image,f=function(a,b){const c=a.getElementsByTagName("img")[0];c.parentNode.replaceChild(b,c);a.classList.remove("tf_lazy")};
a&&(a.innerText.trim()?a.style.opacity=a.style.visibility="":(a.style.opacity=0,a.style.visibility="hidden"));e.classList.add("tf_lazy");c.src=this.getAttribute("data-image");c.alt=this.getElementsByTagName("img")[0].alt;d&&(d.innerHTML=this.title);g&&(g.innerHTML=this.getAttribute("data-caption"));b.hasDecode?(c.decoding="async",c.decode().then(function(){f(e,c)}).catch(function(){f(e,c)})):f(e,c)})})(jQuery,Themify,ThemifyBuilderModuleJs);
