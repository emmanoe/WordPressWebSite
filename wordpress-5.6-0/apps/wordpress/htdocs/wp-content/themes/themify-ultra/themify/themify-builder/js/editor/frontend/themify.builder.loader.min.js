/*
 Themify Builder - Asynchronous Script and Styles Loader */
'use strict';(function(a,g,c){let k;const B=function(){k.ajax({url:themify_vars.ajax_url,type:"POST",data:{action:"tb_load_editor"},success:function(d){var b=c.createElement("div");const l={},m={},p=c.createDocumentFragment();c.createDocumentFragment();const z=a.body[0],r=function(){l[this.src]=!0;k.ui&&k.fn.mouse&&k.fn.sortable&&a.trigger("tb_load_iframe");for(var h in m)if(!0!==l[h])return!1;h=c.createDocumentFragment();for(let c=0,a=q.length;c<a;++c)h.appendChild(q[c]);z.appendChild(h);g.tinymce&&
tinyMCE&&(h=tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css.split(","),tinyMCEPreInit.mceInit.tb_lb_hidden_editor.wp_autoresize_on=!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.content_css=h[1]?h[1]:h[0],tinyMCEPreInit.mceInit.tb_lb_hidden_editor.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.indent="simple",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.ie7_compat=
!1,tinyMCEPreInit.mceInit.tb_lb_hidden_editor.root_name="div",tinyMCEPreInit.mceInit.tb_lb_hidden_editor.relative_urls=!0,tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor"),k("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools").remove())};b.innerHTML=d;d=b.querySelector("#tb_tinymce_wrap").children;const q=[];for(let a=0,g=d.length;a<g;++a)if("SCRIPT"!==d[0].tagName||d[0].getAttribute("type")&&"text/javascript"!==d[0].getAttribute("type"))p.appendChild(d[0]);
else{b=c.createElement("script");for(let c=d[0].attributes,a=c.length-1;-1<a;--a)b.setAttribute(c[a].name,c[a].value);var e=d[0].getAttribute("src");e?void 0===m[e]&&null===c.querySelector('script[src="'+e+'"]')&&(b.async=!1,m[e]=!0,b.addEventListener("load",r,{once:!0,passive:!0}),b.addEventListener("error",r,{once:!0,passive:!0}),p.appendChild(b)):(e=d[0].innerHTML,b.innerHTML=e,-1===e.indexOf("tinyMCEPreInit.")&&-1===e.indexOf(".addI18n")&&-1===e.indexOf(".i18n")&&-1===e.indexOf("wp.editor")?p.appendChild(b):
q.push(b));d[0].remove()}try{z.appendChild(p)}catch(h){}}})},v=function(){let d;k=jQuery;if(!g.wp||!wp.customize){var b=c.getElementsByClassName("themify_builder_content");let a=c.getElementsByClassName("toggle_tb_builder")[0],g=!1;d=a?a.getElementsByClassName("tb_front_icon")[0].getAttribute("data-id"):!1;for(let a=b.length-1;-1<a;--a){var l=b[a].getAttribute("data-postid");let k=c.createElement("a"),e=c.createElement("span");l===d&&(g=!0);k.href="javascript:void(0);";k.className="tb_turn_on js-turn-on-builder";
e.className="dashicons dashicons-edit";e.setAttribute("data-id",l);k.appendChild(e);l=b[a].parentNode.classList;k.appendChild(c.createTextNode(l.contains("tbp_template")?tbLoaderVars.editTemplate:l.contains("tb_layout_part_wrap")?tbLoaderVars.turnOnLpBuilder:tbLoaderVars.turnOnBuilder));b[a].insertAdjacentElement("afterEnd",k)}a||(a=c.getElementsByClassName("js-turn-on-builder")[0])||(d=a.getElementsByClassName("dashicons-edit")[0].getAttribute("data-id"));!1===g?(d=null,a.classList.add("tb_disabled_turn_on")):
a.classList.remove("tb_disabled_turn_on")}let m=0<g.location.href.indexOf("?")?"&":"?";m=g.location.href.replace(g.location.hash,"").replace("#","")+m+"tb-preview=1&ver="+g.themify_vars.version;a.body.on("click.tb_loading",".toggle_tb_builder > a, a.js-turn-on-builder",function(b){b.preventDefault();b.stopPropagation();const l=this.classList.contains("tb_restriction");a.LoadAsync(tbLocalScript.builder_url+"/js/editor/themify-ticks.js",function(){l&&(TB_Ticks.init(tbLocalScript.ticks).show(),init())},
null,null,function(){return!!g.TB_Ticks});a.body.off("click.tb_loading");if(!l){var r=this.classList.contains("js-turn-on-builder")?this.childNodes[0].getAttribute("data-id"):d;if(r&&!this.parentNode.classList.contains("tb_disabled_turn_on")){a.lazyDisable=a.lazyScrolling=!0;null!==a.observer&&a.observer.disconnect();var q=[],e=k(c).scrollTop(),h=a.convert(c.head.getElementsByTagName("link")).concat(a.convert(c.head.getElementsByTagName("style"))),p=a.body.children(),w=c.createElement("div"),t=c.createElement("div"),
x=c.createElement("div"),y=c.createElement("div"),v=c.createElement("div"),n=c.createElement("iframe");w.className="tb_workspace_container";t.className="tb_vertical_bars";x.id="tb_left_bar";y.id="tb_right_bar";x.className=y.className="tb_middle_bar";v.className="tb_vertical_change_tooltip";n.className="tb_iframe";n.id=n.name="tb_iframe";n.scrolling=a.isTouch?"no":"yes";n.src=m+"&tb-id="+r;a.off("builder_load_module_partial");k(c).off("ajaxComplete");if(null!==tbLoaderVars.styles)for(var f in tbLoaderVars.styles)""!==
tbLoaderVars.styles[f]&&(a.LoadCss(f,tbLoaderVars.styles[f]),q[f+"?ver="+tbLoaderVars.styles[f]]=1);var u=c.createElement("div");b=c.createElement("div");f=c.createElement("div");var A=c.getElementsByClassName("tb_front_icon")[0];u.id="tb_alert";u.className="tb_busy";b.id="tb_fixed_bottom_scroll";b.className="tb_fixed_scroll";f.id="builder_progress";f.appendChild(c.createElement("div"));c.body.insertAdjacentElement("afterbegin",b);c.body.appendChild(u);A&&A.parentNode.appendChild(f);a.on("tb_load_iframe",
function(){t.appendChild(x);t.appendChild(n);t.appendChild(y);t.appendChild(v);w.appendChild(t);n.addEventListener("load",function(){const b=this,d=b.contentWindow;let l;a.body.one("themify_builder_ready",function(b){k(u).fadeOut(100,function(){this.classList.remove("tb_busy")});b=a.body[0].classList.contains("archive");let f="themify_builder_active builder-breakpoint-desktop page-loaded";a.isTouch&&(f+=" tb_touch");b&&(f+=" archive");"1"===tbLoaderVars.isGlobalStylePost&&(f+=" gs_post");a.body[0].className=
f;a.body[0].removeAttribute("style");w.style.display="block";b=d.tb_app.Instances.Builder[0].$el.offset().top;b>e&&(e=b);d.scrollTo(0,e);a.iframe=n;a.is_builder_active=!0;setTimeout(function(){p.hide();for(var b=h.length-1;-1<b;--b)if(h[b]&&h[b].parentNode){var e=h[b].href,f=h[b].id;e?q[e]||-1!==e.indexOf("wp-includes")||-1!==e.indexOf("admin-bar")||(h[b].setAttribute("disabled",!0),h[b].parentNode.removeChild(h[b])):"tf_fonts_style"!==f&&"tf_lazy_common"!==f&&h[b].parentNode.removeChild(h[b])}h=
q=tbLoaderVars=u=null;k(".themify_builder_content,#wpadminbar,header").remove();p.filter("ul,a,video,audio").filter(":not(:has(link))").remove();b="scroll tfsmartresize debouncedresize throttledresize resize mouseenter keydown keyup mousedown assignVideo".split(" ");e=k(g);f=k(c);for(let c=b.length-1;-1<c;--c)e.off(b[c]),f.off(b[c]),a.body.off(b[c]);c.documentElement.removeAttribute("style");c.documentElement.removeAttribute("class");const m=d.tbLocalScript.ticks;m.postID=r;l.hasClass("tb_restriction")?
setTimeout(function(){c.body.appendChild(l.find("#tmpl-builder-restriction")[0]);TB_Ticks.init(m,d).show()},1E3):setTimeout(function(){TB_Ticks.init(m,d).ticks()},5E3);setTimeout(function(){const b="ThemifyBuilderModuleJs c _wpemojiSettings twemoji themifyScript tbLocalScript tbScrollHighlight google ThemifyGallery Animation $f Froogaloop SliderProSlide SliderProUtils ThemifySlider FixedHeader LayoutAndFilter WOW Waypoint $slidernav google Microsoft Rellax module$contents$MapsEvent_MapsEvent module$contents$mapsapi$overlay$OverlayView_OverlayView wc_add_to_cart_params woocommerce_params wc_cart_fragments_params wc_single_product_params tf_mobile_menu_trigger_point themifyMobileMenuTrigger".split(" ");
for(let a=b.length-1;-1<a;--a)g[b[a]]&&(g[b[a]]=null);a.events={};g.wp.emoji=null;g.ajaxurl=themify_vars.ajax_url;a.cssLazy=[];for(let b=d.document.querySelectorAll("[data-lazy]"),a=b.length-1;-1<a;--a)b[a].removeAttribute("data-lazy")},3E3)},800)});const f=function(){d.themifyBuilder.post_ID=r;l=d.jQuery("body");l.trigger("builderiframeloaded.themify",b)};if("__rocketLoaderLoadProgressSimulator"in d){const a=setInterval(function(){"complete"===d.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&
(clearInterval(a),f())},10)}else f()},{once:!0,passive:!0});c.body.appendChild(w)},!0);B()}}});a.body[0].classList.contains("tb_restriction")||-1!==g.location.href.indexOf("tb-id")||("#builder_active"===g.location.hash?(k(".toggle_tb_builder > a").first().click(),g.location.hash=""):(b=c.createElement("link"),b.href=m+(d?"&tb-id="+d:""),b.rel="prefetch",b.setAttribute("as","document"),c.head.appendChild(b)))};if(!0===g.loaded)v();else a.on("tf_init",v,!0)})(Themify,window,document);
