'use strict';var ThemifyConstructor;
(function(q,v,r,k){let l={ActionBar:{}},x="undefined"!==typeof ThemifyBuilderCommon?ThemifyBuilderCommon:{};ThemifyConstructor={data:null,key:"tb_form_templates_",styles:{},settings:{},editors:null,afterRun:[],radioChange:[],bindings:[],stylesData:null,values:{},clicked:null,type:null,static:null,label:null,is_repeat:null,is_sort:null,is_new:null,is_ajax:null,breakpointsReverse:null,set(a){try{let b="";for(let a in themifyBuilder.modules)b+=a;const c={val:a,ver:themify_vars.version,h:v.hash(b)};localStorage.setItem(this.key,
JSON.stringify(c));return!0}catch(b){return!1}},get(){if(themifyBuilder.debug)return!1;try{localStorage.removeItem("tb_form_templates");let a=localStorage.getItem(this.key),b="";if(!a)return!1;a=JSON.parse(a);for(let a in themifyBuilder.modules)b+=a;return a.ver.toString()!==themify_vars.version.toString()||a.h!==v.hash(b)?!1:a.val}catch(a){return!1}},getForms(a){if("undefined"!==typeof tb_app){if(void 0!==tb_app.Constructor){for(var b in tb_app.Constructor)ThemifyConstructor[b]=tb_app.Constructor[b];
delete tb_app.Constructor}x=ThemifyBuilderCommon;l=tb_app}this.breakpointsReverse=Object.keys(themifyBuilder.breakpoints).reverse();this.breakpointsReverse.push("desktop");const c=this;b=c.get();const d=function(b){x.Lightbox.setup();c.data=b;"visual"===l.mode&&(l.EdgeDrag.modules=JSON.parse(localStorage.getItem("tb_dragger")));a&&a()};if(!1!==b)d(b);else{let a={},b={},g=function(e){++e;q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_load_form_templates",tb_load_nonce:themifyBuilder.tb_load_nonce,
page:e},success(f){f&&("ok"!==f.v&&(b=q.extend(b,f.v),a=q.extend(a,f.d)),"ok"!==f.v&&f.l===Object.keys(f.v).length?g(e):(localStorage.setItem("tb_dragger",JSON.stringify(a)),d(b),c.set(b),b=a=e=null))}})};g(0)}c.static=themifyBuilder.i18n.options;themifyBuilder.i18n.options=null;this.label=themifyBuilder.i18n.label;themifyBuilder.i18n.label=null;b=c.static.fonts.safe;for(let a=0,d=b.length;a<d;++a)""!==b[a].value&&"default"!==b[a].value&&(c.font_select.safe[b[a].value]=b[a].name);c.static.fonts.safe=
null;b=c.static.fonts.google;for(let a=0,d=b.length;a<d;++a)""!==b[a].value&&"default"!==b[a].value&&(c.font_select.google[b[a].value]={n:b[a].name,v:b[a].variant});c.static.fonts.google=b=themifyBuilder.google=null;b=c.static.fonts.cf;for(let a=0,d=b.length;a<d;++a)""!==b[a].value&&"default"!==b[a].value&&(c.font_select.cf[b[a].value]={n:b[a].name,v:b[a].variant});c.static.fonts.cf=b=themifyBuilder.cf=null},getOptions(a){if(void 0!==a.options)return a.options;for(let b in this.static)if(!0===a[b])return this.static[b];
return!1},getTitle(a){return"custom_css"===a.type?this.label.custom_css:"title"===a.type?this.label.m_t:void 0!==a.label?void 0!==this.label[a.label]?this.label[a.label]:a.label:!1},getSwitcher(){const a=k.createElement("ul"),b=this.breakpointsReverse,c=this;a.className="tb_lightbox_switcher clearfix";for(let c=b.length-1;-1<c;--c){let d=b[c],f=k.createElement("li"),g=k.createElement("a");g.href="#"+d;g.className="tab_"+d;g.title="tablet_landscape"===d?this.label.table_landscape:d.charAt(0).toUpperCase()+
d.substr(1);g.appendChild(l.Utils.getIcon("ti-"+("tablet_landscape"===d?"tablet":d)));f.appendChild(g);a.appendChild(f)}a.addEventListener("click",function(b){b.preventDefault();b.stopImmediatePropagation();b.target!==a&&(b=b.target.closest("a"),null!==b&&c.lightboxSwitch(b.getAttribute("href")))});return a},lightboxSwitch(a){a=a.replace("#","");a!==l.activeBreakPoint&&(l.activeModel&&"visual"===l.mode&&(l.scrollTo=l.liveStylingInstance.$liveStyledElmt),q(".tb_breakpoint_switcher.breakpoint-"+a,r.document).trigger("click"))},
binding(a,b,c,d){let e=!1;var f=b.binding;b=b.type;"select"===b&&0==c&&(c="");c||void 0===f.empty?c&&void 0!==f[c]?e="radio"===b||"icon_radio"===b?!0===a.checked?f[c]:!1:f[c]:c&&void 0!==f.not_empty?e=f.not_empty:void 0!==f.select&&c!==f.select.value?e=f.select:void 0!==f.checked&&!0===a.checked?e=f.checked:void 0!==f.not_checked&&!1===a.checked&&(e=f.not_checked):e=f.empty;if(e){c=[];void 0!==e.show&&(c=e.show);void 0!==e.hide&&(c=c.concat(e.hide));if(void 0===d||null===d||0===d.length)d=a.closest(".tb_tab"),
null===d&&(d=a.closest(".tb_expanded_opttions"),null===d&&(d=r.document.getElementById("tb_lightbox_container")));b=void 0!==e.hide;const k=void 0!==e.show,n=this;a=[];const u=function(a,b){let c;const d=Object.keys(a),e=d.length;for(let f=0;f<e;f++){if(void 0!==a[d[f]].id&&a[d[f]].id===b){c=a[d[f]];break}if(a[d[f]]&&"object"===typeof a[d[f]]&&(c=u(a[d[f]],b),void 0!==c))break}return c};f=function(a,b,c){const d=a.dataset.type;let e;"radio"===d?(e=a.querySelector("input:checked"),null===e&&(e=a.getElementsByTagName("input")[0])):
"checkbox"===d||"toggle_switch"===d?e=a.getElementsByTagName("input")[0]:"select"===d&&(e=a.getElementsByTagName("select")[0]);void 0!==e&&n.binding(e,b,e.value,c)};for(let f=0,p=c.length;f<p;++f){if(!0===b&&void 0!==e.hide[f]){var g=d.querySelectorAll("."+e.hide[f]);for(var h=g.length-1;-1<h;--h)if(g[h].classList.add("_tb_hide_binding"),"object"===typeof this.data&&null!==this.type&&"object"===typeof this.data[this.type]){var m=u(this.data[this.type][this.clicked],c[f]);"object"===typeof m&&"object"===
typeof m.binding&&a.push({el:g[h],data:m})}}if(!0===k&&void 0!==e.show[f])for(g=d.querySelectorAll("."+e.show[f]),h=g.length-1;-1<h;--h)g[h].classList.remove("_tb_hide_binding"),"object"===typeof this.data&&null!==this.type&&"object"===typeof this.data[this.type]&&(m=u(this.data[this.type][this.clicked],c[f]),"object"===typeof m&&"object"===typeof m.binding&&a.push({el:g[h],data:m}))}for(c=a.length-1;-1<c;--c)f(a[c].el,a[c].data,d);if(void 0!==e.responsive&&void 0!==e.responsive.disabled)for(a=e.responsive.disabled,
c="desktop"!==l.activeBreakPoint,a=a.length-1;-1<a;--a)if(void 0!==e.responsive.disabled[a])for(f=d.querySelectorAll("."+e.responsive.disabled[a]),b=f.length-1;-1<b;--b)!0===c?f[a].classList.add("responsive_disable"):f[a].classList.remove("responsive_disable")}},control:{init(a,b,c){c.name=b;this[b].call(this,a,c)},preview(a,b,c){if("visual"===l.mode){const d=ThemifyConstructor;let e=null,f=null;!0===c.repeat&&(f=a.closest(".tb_toggleable_fields"),null===f&&(f=a.closest(".tb_sort_fields_parent"),
null===f&&(f=a.closest(".tb_row_js_wrapper"))));if(void 0!==c.selector&&b)if(e=l.liveStylingInstance.$liveStyledElmt[0].querySelectorAll(c.selector),0===e.length)e=null;else if(null!==f){const b=a.closest(".tb_repeatable_field"),d=Array.prototype.slice.call(f.children);void 0!==c.rep?(e=l.liveStylingInstance.$liveStyledElmt[0].querySelectorAll(c.rep),e=e[d.indexOf(b)],void 0!==e?(e=e.querySelectorAll(c.selector),0===e.length&&(e=null)):e=null):e=e.length===d.length-1?e[d.indexOf(b)]:null}null!==f?
d.settings[f.id]=l.Utils.clear(l.Forms.parseSettings(f).v):d.settings[c.id]=b;"refresh"===c.type||!0===d.is_ajax?l.activeModel.trigger("custom:preview:refresh",d.settings,e,b):l.activeModel.trigger("custom:preview:live",d.settings,"wp_editor"===c.name||"TEXTAREA"===a.tagName,null,e,b)}else l.activeModel.backendLivePreview();l.hasChanged=!0},change(a,b){let c=this,d="refresh"===b.type&&void 0===b.selector?1E3:50,e;void 0===b.event?(e="change",d=1):e=b.event;a.addEventListener(e,_.throttle(function(a){const d=
a.target;if("keyup"===a.type){if(d.value===d.dataset.oldValue)return;d.dataset.oldValue=d.value}c.preview(d,d.value,b)},d),{passive:!0})},wp_editor(a,b){q(".wrap > #message").attr("id","wp-message");let c=this,d=q(a);var e=a.id;let f=!1,g=!1,h=_.throttle(function(e){e="setupeditor"===this.type?this.getContent():this.value;null!==l.activeModel&&f!==e&&(f=e,!1!==g?(a.value=e,d.trigger("change")):c.preview(a,e,b))},"refresh"===b.type&&void 0===b.selector?1E3:50);l.Utils.initQuickTags(e);void 0!==tinyMCE&&
(void 0!==tinymce.editors[e]&&tinyMCE.execCommand("mceRemoveEditor",!0,e),e=l.Utils.initNewEditor(e),g=a.classList.contains("wp-editor-area")?0<d.closest("#instance_widget").length:!1,!e.type&&(e.type="setupeditor"),e.on("change keyup",h));d.on("change keyup",h)},layout(a,b){if("visual"===l.mode){const c=this;a.addEventListener("change",function(a){a=a.detail.val;if(void 0!==b.classSelector&&"auto_tiles"!==a){const d=b.id,f=ThemifyConstructor.settings[d],g=""!==b.classSelector?l.liveStylingInstance.$liveStyledElmt.find(b.classSelector).first():
l.liveStylingInstance.$liveStyledElmt;ThemifyConstructor.settings[d]=a;0<g.length?(g.removeClass(f).addClass(a),l.Utils.loadContentJs(l.liveStylingInstance.$liveStyledElmt,"module")):c.preview(this,a,b)}else c.preview(this,a,b)},{passive:!0})}},icon(a,b){const c=this;a.addEventListener("change",function(a){const d=a.target.value,f=this.closest(".tb_input").getElementsByClassName("themify_fa_toggle")[0];void 0!==f&&(f.firstChild&&f.firstChild.remove(),d&&f.appendChild(l.Utils.getIcon(d)));c.preview(a.target,
d,b)},{passive:!0})},checkbox(a,b){if("visual"===l.mode){const c=this;a.addEventListener("change",function(){const a=[],e=this.closest(".themify-checkbox").getElementsByClassName("tb-checkbox");for(let b=0,c=e.length;b<c;++b)e[b].checked&&a.push(e[b].value);c.preview(this,a.join("|"),b)},{passive:!0})}},color(a,b){if("visual"===l.mode){const c=this;a.addEventListener("themify_builder_color_picker_change",function(a){c.preview(this,a.detail.val,b)},{passive:!0})}},widget_select(a,b){this.preview(a,
a.find(":input").themifySerializeObject(),b)},queryPosts(a,b){if("visual"===l.mode){const c=this;a.addEventListener("queryPosts",function(a){b.id=this.id;ThemifyConstructor.settings=l.Utils.clear(l.Forms.serialize("tb_options_setting"));c.preview(this,ThemifyConstructor.settings[b.id],b)},{passive:!0})}}},initControl(a,b){if(null!==l.activeModel){if("setting"===this.clicked&&"custom_css"!==b.type){if(!1!==b.control&&"module"===this.component){const c=b.control||{};let d=b.type;!0===c.repeat?c.id=
a.getAttribute("data-input-id"):!0===this.is_repeat?(c.repeat=!0,c.id=a.getAttribute("data-input-id")):c.id=b.id;if(void 0===c.control_type){if(void 0===d||"text"===d||"number"===d||"url"===d||"autocomplete"===d||"range"===d||"radio"===d||"icon_radio"===d||"select"===d||"gallery"===d||"textarea"===d||"address"===d||"image"===d||"date"===d||"audio"===d||"video"===d||"select_menu"===d||"widgetized_select"===d||"layoutPart"===d||"selectSearch"===d||"hidden"===d||"toggle_switch"===d)void 0!==c.event||
"text"!==d&&"textarea"!==d||(c.event="keyup"),d="change"}else d=c.control_type;this.control.init(a,d,c)}}else"visual"===l.mode&&"styling"===this.clicked&&l.liveStylingInstance.bindEvents(a,b);if(void 0!==b.binding){const c=this,d=!0===c.is_repeat,e=function(e,g){let f;d&&(f=a.closest(".tb_sort_field_dropdown"),null===f&&(f=a.closest(".tb_toggleable_fields_options"),null===f&&(f=a.closest(".tb_repeatable_field_content"))));c.binding(e,b,g,f)};"layout"===b.type||"frame"===b.type?a.addEventListener("click",
function(a){a=a.target.closest(".tfl-icon");null!==a&&e(this,a.id)},{passive:!0}):a.addEventListener("change",function(a){e(this,this.value)},{passive:!0});this.bindings.push({el:a,data:b,repeat:d})}}return a},callbacks(){if(null!==this.afterRun){var a=this.afterRun.length;if(0<a){for(a=0;a<this.afterRun.length;++a)this.afterRun[a].call();this.afterRun=[]}}if(null!==this.radioChange&&(a=this.radioChange.length,0<a)){for(a=0;a<this.radioChange.length;++a)this.radioChange[a].call();this.radioChange=
[]}if(null!==this.bindings&&(a=this.bindings.length,0<a)){for(--a;-1<a;--a){let b=this.bindings[a].el,c=!0===this.bindings[a].repeat?b.closest(".tb_repeatable_field_content"):void 0,d="layout"===this.bindings[a].data.type||"frame"===this.bindings[a].data.type?b.getElementsByClassName("selected")[0].id:b.value;!0===this.bindings[a].repeat&&(c=b.closest(".tb_sort_field_dropdown"),null===c&&(c=b.closest(".tb_toggleable_fields_options"),null===c&&(c=b.closest(".tb_repeatable_field_content"))));this.binding(b,
this.bindings[a].data,d,c)}this.bindings=[]}},setUpEditors(){for(let a=this.editors.length-1;-1<a;--a)this.initControl(this.editors[a].el,this.editors[a].data);this.editors=[]},switchTabs(a){"A"===this.nodeName&&a.preventDefault();a.stopPropagation();a=this.getAttribute("href");var b=this.parentNode;const c=r.document.getElementById(a.replace("#",""));if(null!==c&&!b.classList.contains("current")){var d=b.parentNode,e=d.children,f=c.parentNode.children;for(let a=e.length-1;-1<a;--a)e[a].classList.remove("current");
b.classList.add("current");for(b=f.length-1;-1<b;--b)f[b].classList.contains("tb_tab")&&(f[b].style.display="none");c.style.display="block";v.body.triggerHandler("themify_builder_tabsactive",[a,c]);v.triggerEvent(c,"themify_builder_tabsactive",{id:a});l.Utils.hideOnClick(d);"visual"===l.mode&&q(k).triggerHandler("mouseup")}},run(a,b){this.styles={};this.settings={};this.editors=[];this.afterRun=[];this.radioChange=[];this.bindings=[];this.stylesData={};this.component=this.is_sort=this.is_repeat=null;
this.type=a;this.is_ajax=this.is_new=null;let c;var d=!1,e=!1;let f=l.activeModel,g;null!==f?(this.component=f.get("elType"),e=k.getElementsByClassName("tb_element_cid_"+f.cid)[0],"module"===this.component?(this.is_ajax="ajax"===themifyBuilder.modules[a].type,d="mod_settings",void 0!==f.get("is_new")&&(this.is_new=!0,e=e.closest(".module_row"))):d="styling",this.values=q.extend(!0,{},f.get(d)),void 0!==e&&(l.beforeEvent=x.clone(e)),e=void 0!==f.get("visibileClicked"),d=!1===e&&("column"===this.component||
"subrow"===this.component||void 0!==f.get("styleClicked")),c=this.data[a]):(this.values={},this.component=null,c=a);var h=k.createDocumentFragment();a=k.createDocumentFragment();const m=this;var p={styling:"ti-brush",animation:"ti-layers-alt",visibility:"ti-eye"};const n=function(a,b){const c=k.createElement("div"),d=k.createDocumentFragment();c.className="tb_options_tab_content";if("visibility"===a||"animation"===a)b=m.static[a];else if("styling"===a){const a=k.createElement("div"),b=l.GS.globalStylesHTML();
a.className="tb_styling_tab_header";a.appendChild(m.getSwitcher());b&&a.appendChild(b);d.appendChild(a)}c.appendChild(m.create(b));d.appendChild(c);"styling"===a&&(a=k.createElement("a"),b=k.createElement("i"),a.href="#",a.className="reset-styling",b.className="tf_close",a.appendChild(b),a.appendChild(k.createTextNode(m.label.reset_style)),a.addEventListener("click",m.resetStyling.bind(m)),d.appendChild(a),"visual"===l.mode&&f&&setTimeout(function(){l.liveStylingInstance.module_rules=m.styles},600));
return d};this.clicked=null;for(var u in c){let b=k.createElement("li"),f=k.createElement("a"),g=k.createElement("span"),z=k.createElement("div"),A=void 0!==c[u].name?c[u].name:this.label[u],q="tb_options_"+u;f.href="#"+q;f.textContent=A;"setting"!==u&&(f.className="tb_tooltip",g.textContent=A,p[u]&&f.appendChild(l.Utils.getIcon(p[u])),f.appendChild(g));z.id=q;z.className="tb_tab tb_options_tab_wrapper";if(!0===d&&"styling"===u||!0===e&&"visibility"===u||!1===d&&!1===e&&"setting"===u||null===this.component)b.className=
"current",m.clicked=u,void 0!==c[u].html?z.appendChild(c[u].html):z.appendChild(n(u,c[u].options)),z.style.display="block",z.dataset.done=!0;z.addEventListener("themify_builder_tabsactive",function(a){a=a.detail.id.replace("#tb_options_","");m.clicked=a;void 0===this.dataset.done&&(this.dataset.done=!0,this.appendChild(n(a,c[a].options)),m.callbacks(),"setting"===a&&m.setUpEditors())},{passive:!0});f.addEventListener("click",this.switchTabs);a.appendChild(z);b.appendChild(f);h.appendChild(b)}u=x.Lightbox.$lightbox[0].getElementsByClassName("tb_options_tab")[0];
for(p=x.Lightbox.$lightbox[0].getElementsByClassName("tb_lightbox_actions_wrap")[0];null!==u.firstChild;)u.removeChild(u.firstChild);for(;null!==p.firstChild;)p.removeChild(p.firstChild);u.appendChild(h);if(void 0!==b||f){const a=k.createElement("button");a.className="builder_button builder_save_button";a.title=void 0!==b&&void 0!==b.ctr_save?this.label[b.ctr_save]:this.label.ctr_save;a.textContent=void 0!==b&&void 0!==b.done?this.label[b.done]:this.label.done;if(f){l.autoSaveCid=f.cid;"visual"===
l.mode&&(null!==l.GS.activeGS?(l.liveStylingInstance=l.createStyleInstance(),l.liveStylingInstance.init(null,!0)):(null===l.liveStylingInstance&&(l.liveStylingInstance=l.createStyleInstance()),l.liveStylingInstance.init()),g=l.liveStylingInstance.$liveStyledElmt[0].outerHTML);const c=function(b){b.preventDefault();b.stopImmediatePropagation();m.saveComponent(!1)&&(a.removeEventListener("click",c,{once:!1}),d.removeEventListener("click",c,{once:!0}))},d=k.createElement("a");b=k.createElement("li");
h=k.createElement("span");b.className="tb_top_save_btn";d.className="tb_tooltip";h.textContent=this.label.done;d.appendChild(l.Utils.getIcon("ti-check"));d.appendChild(h);b.appendChild(d);u.appendChild(b);a.addEventListener("click",c,{once:!1});d.addEventListener("click",c,{once:!0})}p.appendChild(a)}v.body.one("themify_builder_lightbox_close",function(){m.radioChange=m.bindings=m.stylesData=m.is_ajax=m.is_repeat=m.is_sort=m.afterRun=m.editors=m.clicked=m.settings=m.styles=null;if(f){"function"===
typeof _saveClicked&&save.removeEventListener("click",_saveClicked,{once:!0});var a;m.is_new&&"module"===l.activeModel.get("elType")&&(a=("visual"===l.mode?l.liveStylingInstance.$liveStyledElmt:v.body.find(".tb_element_cid_"+l.activeModel.cid)).closest(".module_row.tb_new_row"));if(!0!==l.saving&&void 0!==g&&l.hasChanged){const a=l.Models.Registry.lookup(f.cid);a&&a.trigger("custom:restorehtml",g)}m.is_new?(f.unset("is_new",{silent:!0}),!0!==l.saving?(f.trigger("dom:module:unsaved"),void 0!==a&&0<
a.length&&(a=l.Models.Registry.lookup(a.data("cid")))&&a.destroy()):void 0!==a&&0<a.length&&a[0].classList.remove("tb_new_row")):(f.unset("styleClicked",{silent:!0}),f.unset("visibileClicked",{silent:!0}));if(void 0!==tinyMCE)for(a=tinymce.editors.length-1;-1<a;--a)"content"!==tinymce.editors[a].id&&tinyMCE.execCommand("mceRemoveEditor",!0,tinymce.editors[a].id);"visual"===l.mode&&l.liveStylingInstance.clear();l.activeModel=f=null}v.body.off("themify_builder_change_mode.updatestyles");g=m.values=
m.type=m.component=m.is_new=null;m.tabs.click=0}).on("themify_builder_change_mode.updatestyles",this.updateStyles.bind(this));setTimeout(function(){"setting"===m.clicked&&m.setUpEditors();m.callbacks();v.triggerEvent(k,"tb_editing_"+m.type);"module"===m.component&&v.triggerEvent(k,"tb_editing_module")},5);!0===d?f.unset("styleClicked",{silent:!0}):!0===e&&f.unset("visibileClicked",{silent:!0});return a},getStyleVal(a,b,c){if(null!==l.activeModel){void 0===c&&(c=this.values);void 0===b&&(b=l.activeBreakPoint);
if("desktop"===b||"styling"!==this.clicked)return null!==c&&""!==c[a]?c[a]:void 0;var d=this.breakpointsReverse;b=d.indexOf(b);for(let e=b,f=d.length;e<f;++e)if("desktop"!==d[e]){if(void 0!==c["breakpoint_"+d[e]]&&void 0!==c["breakpoint_"+d[e]][a]&&""!==c["breakpoint_"+d[e]][a])return c["breakpoint_"+d[e]][a]}else if(""!==c[a])return d=this.stylesData&&void 0!=this.stylesData[a]?this.stylesData[a].binding:void 0,void 0!==d&&void 0!==d[c[a]]&&void 0!==d[c[a]].responsive&&void 0!==d[c[a]].responsive.disabled&&
-1!==d[c[a]].responsive.disabled.indexOf(a)?void 0:c[a]}},updateStyles(a,b,c){this.setStylingValues(b);a=this.clicked;this.clicked="styling";for(var d in this.stylesData){var e=this.stylesData[d].type;if(e&&"video"!==e&&"gallery"!==e&&"autocomplete"!==e&&"custom_css"!==e&&"builder"!==e&&!1!==this.stylesData[d].is_responsive&&("icon_radio"===e?e="radio":"icon_checkbox"===e?e="checkbox":"textarea"===e||"icon"===e||"hidden"===e||"number"===e?e="text":"image"===e?e="file":"padding"===e||"border_radius"===
e?e="margin":"frame"===e&&(e="layout"),b=this.getStyleVal(d),this[e].update(d,b,this),void 0!==this.stylesData[d].binding)){var f=r.document.getElementById(d);e="layout"===e?f.getElementsByClassName("tfl-icon"):"radio"===e||"checkbox"===e?f.getElementsByTagName("input"):[f];f=this.stylesData[d];for(let a=0,c=e.length;a<c;++a)this.binding(e[a],f,b)}}d=r.document.querySelectorAll("#tb_options_styling option.responsive_disable");for(b=d.length-1;0<=b;b--)d[b].disabled="desktop"!==c;this.clicked=a},setStylingValues(a){const b=
l.Forms.serialize("tb_options_styling",!0),c="desktop"===a;!1===c&&void 0===this.values["breakpoint_"+a]&&(this.values["breakpoint_"+a]={});for(let d in b)!0===c?this.values[d]=b[d]:this.values["breakpoint_"+a][d]=b[d]},saveComponent(a){if(null!==this.values){l.saving=!0;var b=l.Forms;const e="module"===this.component;if(e&&!b.isValidate(r.document.getElementById("tb_options_setting"))||void 0!==x.Lightbox.$lightbox[0].getElementsByClassName("tb_disable_save")[0])return l.saving=!1,l.beforeEvent=
null,a&&(l.hasChanged=!0,x.Lightbox.$lightbox.find(".tb_close_lightbox")[0].click()),!1;v.body.triggerHandler("themify_builder_save_component",a);"visual"===l.mode&&r.jQuery("body").triggerHandler("themify_builder_save_component",a);delete this.values.cid;const f=q.extend(!0,{},this.beforeData?this.beforeData:this.values);let g=!1,h="styling",m=k.getElementsByClassName("tb_element_cid_"+l.activeModel.cid)[0];void 0===m&&(m=k.querySelector('[data-cid="'+l.activeModel.cid+'"]'));if(null!==m){m=q(m);
if("column"!==this.component){if("subrow"!==this.component){e&&(h="mod_settings");var c=b.serialize("tb_options_setting",!0);for(let a in c)this.values[a]=c[a]}c=b.serialize("tb_options_animation",!0);for(let a in c)this.values[a]=c[a];b=b.serialize("tb_options_visibility",!0);for(var d in b)this.values[d]=b[d];"visual"===l.mode&&("hide_all"===b.visibility_all||"hide"===b.visibility_desktop||"hide"===b.visibility_tablet||"hide"===b.visibility_tablet_landscape||"hide"===b.visibility_mobile?m[0].classList.add("tb_visibility_hidden"):
m[0].classList.remove("tb_visibility_hidden"))}this.setStylingValues(l.activeBreakPoint);d={};d[h]=q.extend(!0,{},l.Utils.clear(this.values));l.activeModel.set(d,{silent:!0});e&&(this.is_new&&(g=m.closest(".module_column"),g.closest(".module_row").removeClass("tb_row_empty"),g.closest(".module_subrow").removeClass("tb_row_empty"),g=x.clone(g)),l.Instances.Builder[l.builderIndex].removeLayoutButton());let a;"visual"===l.mode&&(a=q.extend(!0,{},l.liveStylingInstance.undoData),m[0].classList.remove("tb_visual_hover"),
m.find(".tb_visual_hover").removeClass("tb_visual_hover"));l.ActionBar.hoverCid===l.activeModel.cid&&(l.ActionBar.hoverCid=null,l.ActionBar.clearSelected());l.undoManager.push(l.activeModel.cid,l.beforeEvent,m,"save",{bsettings:f,asettings:this.values,styles:a,column:g})}x.Lightbox.close(a);l.beforeEvent=null;l.saving=!1}return!0},resetStyling(a,b){a.preventDefault();a.stopPropagation();b=!0===b?void 0:q("#tb_options_styling",ThemifyBuilderCommon.Lightbox.$lightbox)[0];var c=l.activeModel.get("elType");
"module"===c&&(c=l.activeModel.get("mod_name"));if(!this.beforeData&&(this.beforeData=q.extend(!0,{},this.values),void 0!==b)){const a=this;v.body.one("themify_builder_lightbox_before_close",function(){a.beforeData=null})}if(!1===l.GS.isGSPage&&null===l.GS.activeGS){var d=null;if(null!==l.GS.el){var e=l.GS.el.getElementsByClassName("tb_selected_style");d=[];for(var f=e.length-1;-1<f;--f)d.push(e[f].getAttribute("data-style-id"))}else void 0!==this.values[l.GS.key]&&("visual"===l.mode&&(d=this.values[l.GS.key].split(" ")),
delete this.values[l.GS.key]);if(null!==d){null!==l.GS.field&&(l.GS.field.value="");l.GS.isGSPage=!0;for(e=d.length-1;-1<e;--e)l.GS.delete(d[e]);l.GS.isGSPage=!1;d=null;l.GS.generateValues(null,{},!0)}}d=ThemifyStyles.getStyleOptions(c);if("visual"===l.mode){e={};f={};const a=l.liveStylingInstance.prefix,b=this.breakpointsReverse;for(let c=b.length-1;-1<c;--c){var g=ThemifyStyles.getSheet(b[c],null!==l.GS.activeGS);g=g.cssRules?g.cssRules:g.rules;if(0<g.length){void 0===e[b[c]]&&(e[b[c]]={},f[b[c]]=
{});for(let d=g.length-1;-1<d;--d)if(-1!==g[d].selectorText.indexOf(a)){let a=g[d].cssText.split("{")[1].split(";");void 0===e[b[c]][d]&&(e[b[c]][d]={},f[b[c]][d]={});for(let h=a.length-2;-1<h;--h){let m=a[h].trim().split(": ")[0].trim();if(void 0!==g[d].style[m]){let a=g[d].style[m];e[b[c]][d][m]=a;f[b[c]][d][m]={a:"",b:a};g[d].style[m]=""}}}}}"module"!==c&&(l.liveStylingInstance.removeBgSlider(),l.liveStylingInstance.removeBgVideo(),l.liveStylingInstance.getComponentBgOverlay().remove(),l.liveStylingInstance.bindBackgroundMode("repeat",
"background_repeat"),l.liveStylingInstance.bindBackgroundMode("repeat","b_r_h"),l.liveStylingInstance.$liveStyledElmt[0].removeAttribute("data-tb_slider_videos"),l.liveStylingInstance.$liveStyledElmt.children(".tb_slider_videos,.tb_row_frame").remove())}for(var h in this.values)c=-1!==h.indexOf("_color")?"color":-1!==h.indexOf("_style")?"style":!1,e=null,0===h.indexOf("breakpoint_")||h===l.GS.key||void 0!==d[h]||-1!==h.indexOf("_apply_all")?e=!0:-1!==h.indexOf("_unit")?(c=h.replace(/_unit$/ig,"",
""),void 0!==d[c]&&(e=!0)):-1!==h.indexOf("_w")?(c=h.replace(/_w$/ig,"",""),void 0!==d[c]&&"font_select"===d[c].type&&(e=!0)):!1!==c&&(c=h.replace("_"+c,"_width"),void 0!==d[c]&&"border"===d[c].type&&(e=!0)),!0===e&&delete this.values[h];if(void 0!==b){l.hasChanged=!0;h=b.getElementsByClassName("tb_lb_option");for(c=h.length-1;-1<c;--c)if(d=h[c].value,e=h[c].classList,"px"!==d&&"solid"!==d&&"default"!==d&&"linear"!==d&&"n"!==d&&!e.contains("exclude-from-reset-field"))if(f=h[c].getAttribute("id"),
void 0!==this.values[f]&&delete this.values[f],e.contains("tb_radio_input_container"))e.contains("tb_icon_radio")?(d=b.querySelector('[name="'+f+'"]:checked'),null!==d&&d.parentNode.click()):(d=b.querySelector('[name="'+f+'"]'),!0!==d.checked&&(d.checked=!0,v.triggerEvent(d,"change")));else if(e.contains("tb_uploader_input"))d&&h[c].parentNode.getElementsByClassName("tb_clear_input")[0].click();else if(e.contains("minicolors-input"))e=h[c].closest(".minicolors"),f=e.getElementsByClassName("tb_clear_btn")[0],
d&&(h[c].value="",h[c].removeAttribute("data-opacity"),d=e.getElementsByClassName("minicolors-swatch-color")[0],d.style.opacity=d.style.backgroundColor="",e.nextElementSibling.value=""),void 0!==f&&(f.style.display="none");else if(d&&"SELECT"===h[c].tagName){if(e.contains("font-family-select"))h[c].value="";else if(e.contains("font-weight-select")){for(h[c].value="";h[c].firstChild;)h[c].removeChild(h[c].firstChild);this.font_select.updateFontVariant("",h[c],this)}else if(e.contains("tb_unit"))h[c].value=
e.contains("tb_frame_unit")?"%":"px";else{if("repeat"===d&&"background_repeat"===f||"scroll"===d&&"background_attachment"===f||"left top"===d&&"background_position"===f)continue;h[c].selectedIndex=0}e.contains("themify-gradient-type")||v.triggerEvent(h[c],"change")}else if(e.contains("themify-layout-icon"))d=h[c].getElementsByClassName("tfl-icon")[0],d.classList.contains("selected")||d.click();else if(e.contains("tb_row_js_wrapper")){d=h[c].getElementsByClassName("tb_repeatable_field");for(e=d.length-
1;-1<e;--e)d[e].parentNode.removeChild(d[e]);h[c].getElementsByClassName("add_new")[0].click()}else e.contains("themify-gradient-angle")?h[c].value="180":e.contains("themify-gradient")?h[c].nextElementSibling.click():(h[c].value="",v.triggerEvent(h[c],e.contains("tb_range")?"keyup":"change"));"visual"!==l.mode||a.isTrigger||(l.liveStylingInstance.tempData=data,l.liveStylingInstance.undoData=undoData)}return undoData},create(a){const b=k.createDocumentFragment();if(void 0===a||0===a.length){a=k.createElement("div");
var c=k.createElement("p");c.textContent=themifyBuilder.i18n.no_op_module;a.appendChild(c);b.appendChild(a);return b}if("tabs"===a.type)b.appendChild(this.tabs.render(a,this));else for(c in a){if(!0===a[c].hide||void 0===a[c].type)continue;var d=a[c].type;let f=this[d].render(a[c],this);if("separator"!==d&&"expand"!==d&&"group"!==d){var e=a[c].id?a[c].id:a[c].topId;"tabs"!==d&&"multi"!==d&&"margin_opposity"!==d&&e&&("styling"===this.clicked?("visual"===l.mode&&void 0!==a[c].prop&&(this.styles[e]=
q.extend(!0,{},a[c])),this.stylesData[e]=q.extend(!0,{},a[c])):"visual"===l.mode&&"setting"===this.clicked&&null!==this.values&&void 0!==this.values[e]&&!0!==this.is_repeat&&(this.settings[e]=this.values[a[c].id],void 0!==a[c].units&&void 0!==this.values[e+"_unit"]&&(this.settings[e+"_unit"]=this.values[e+"_unit"])));if("builder"!==d){let g=k.createElement("div");g.className="tb_field";void 0===a[c].dc||a[c].dc||(g.className+=" tb_disable_dc");g.setAttribute("data-type",d);void 0!==e&&(g.className+=
" "+e);void 0!==a[c].wrap_class&&(g.className+=" "+a[c].wrap_class);"custom_css"===d?g.appendChild(this.separator.render(a[c],this)):"toggle_switch"===d?g.className+=" switch-wrapper":"slider"===d?g.className+=" tb_slider_options":"message"===d&&void 0!==a[c].hideIf&&new Function("return "+a[c].hideIf)?g.className+=" tb_hide_option":void 0!==a[c].required&&"setting"===this.clicked&&(e=void 0!==a[c].required.message?a[c].required.message:themifyBuilder.i18n.not_empty,g.setAttribute("data-validation",
void 0!==a[c].required.rule?a[c].required.rule:"not_empty"),g.setAttribute("data-error-msg",e),g.className+=" tb_must_validate");"styling"===this.clicked&&!1===a[c].is_responsive&&(g.className+=" responsive_disable");e=this.getTitle(a[c]);if(!1!==e){e=e.trim();let b=k.createElement("div"),m=k.createElement("span");b.className="tb_label";m.className="tb_label_text";m.textContent=e;b.appendChild(m);""===e&&(b.className+=" tb_empty_label");void 0!==a[c].help&&""!==a[c].label&&(b.classList.add("contains-help"),
m.appendChild(this.help(a[c].help)));g.appendChild(b);"multi"!==d?(d=k.createElement("div"),d.className="tb_input",d.appendChild(f),g.appendChild(d)):g.appendChild(f)}else g.appendChild(f);b.appendChild(g)}else b.appendChild(f)}else b.appendChild(f)}return b},tabs:{click:0,render(a,b){const c=a.options,d=k.createDocumentFragment(),e=k.createElement("ul"),f="styling"===b.clicked&&0===this.click&&"module"===b.component?k.createElement("div"):null,g=k.createElement("div"),h=void 0!==a.isRadio;let m=
null,p=null;g.className="tb_tabs";e.className="clearfix tb_tab_wrapper";++this.click;!0===h&&(void 0!==b.values[a.id]&&""!==b.values[a.id]&&(p=!0,m=b.values[a.id]),e.className+=" tb_radio_input_container",!0===b.is_repeat?(e.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",e.dataset.inputId=a.id):(e.className+=" tb_lb_option",e.id=a.id));for(let f in c){let g=k.createElement("li"),n=!0===h?k.createElement("label"):k.createElement("a"),l=k.createElement("div"),y="tb_"+this.click+
"_"+f;l.id=y;l.className="tb_tab";n.textContent=void 0!==c[f].label?c[f].label:b.label[f];if(!0===h){let b=k.createElement("input");b.type="radio";b.className="tb_radio_tab_input";b.name=a.id;if(m===f||m==="tb_"+f)b.checked=!0;b.value=f;n.setAttribute("href","#"+y);n.className="tb_radio_tab_label";n.appendChild(b)}else n.href="#"+y;null===p||m===f||m==="tb_"+f?(p=!0,g.className="current",l.appendChild(b.create(c[f].options)),l.style.display="block"):l.addEventListener("themify_builder_tabsactive",
function(){this.appendChild(b.create(c[f].options));"setting"===b.clicked&&b.setUpEditors();b.callbacks()},{once:!0,passive:!0});n.addEventListener("click",b.switchTabs);g.appendChild(n);e.appendChild(g);d.appendChild(l)}null!==f?(f.className="tb_styling_tab_nav",f.appendChild(e),g.appendChild(f)):g.appendChild(e);g.appendChild(d);setTimeout(b.callbacks.bind(b),5);return g}},group:{render(a,b){const c=k.createElement("div");void 0!==a.wrap_class&&(c.className+=" "+a.wrap_class);c.appendChild(b.create(a.options));
return c}},builder:{render(a,b){b.is_repeat=!0;const c=k.createElement("div"),d=k.createElement("a"),e=this;c.className="tb_row_js_wrapper tb_lb_option";void 0!==a.wrap_class&&(c.className+=" "+a.wrap_class);c.id=a.id;d.className="add_new tf_plus_icon tb_icon_btn";d.href="#";d.textContent=void 0!==a.new_row?a.new_row:b.label.new_row;if(void 0!==b.values[a.id]){const d=b.values[a.id].slice(),e=q.extend(!0,{},b.values);for(let e=0,f=d.length;e<f;++e)b.values=d[e]||{},c.appendChild(this.builderFields(a,
b));b.values=e}else c.appendChild(this.builderFields(a,b));c.appendChild(d);b.afterRun.push(function(){e.sortable(c,b);d.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();b.is_repeat=!0;const f=e.builderFields(a,b);this.parentNode.insertBefore(f,this);setTimeout(function(){"setting"===b.clicked&&b.setUpEditors();b.callbacks();v.triggerEvent(k,"tb_repeatable_add_new",[f])},5);b.control.preview(c,null,{repeat:!0});b.is_repeat=null})});b.is_repeat=null;return c},builderFields(a,
b){const c=k.createElement("div"),d=k.createElement("div"),e=k.createElement("div"),f=k.createElement("div"),g=k.createElement("ul"),h=k.createElement("li"),m=k.createElement("li"),p=k.createElement("div"),n=k.createElement("div"),u=this;c.className="tb_repeatable_field clearfix";d.className="tb_repeatable_field_top";e.className="row_menu";f.tabIndex="-1";f.className="menu_icon";g.className="tb_down";h.className="tb_duplicate_row";m.className="tb_delete_row tf_close";h.textContent=b.label.duplicate;
m.textContent=b.label.delete;p.className="toggle_row";n.className="tb_repeatable_field_content";n.appendChild(b.create(a.options));g.appendChild(h);g.appendChild(m);e.appendChild(f);e.appendChild(g);d.appendChild(e);d.appendChild(p);c.appendChild(d);c.appendChild(n);setTimeout(function(){d.addEventListener("click",function(d){d.stopPropagation();d.preventDefault();const e=d.target.classList;if(e.contains("tb_delete_row")){if(confirm(themifyBuilder.i18n.rowDeleteConfirm)){const a=d.target.closest(".tb_row_js_wrapper");
u.delete(d.target);b.control.preview(a,null,{repeat:!0});v.triggerEvent(a,"delete")}}else if(e.contains("tb_duplicate_row")){b.is_repeat=!0;d=q.extend(!0,{},b.values);b.values=l.Forms.serialize(c,!0,!0);const e=u.builderFields(a,b);c.parentNode.insertBefore(e,c.nextElementSibling);b.values=d;setTimeout(function(){"setting"===b.clicked&&b.setUpEditors();b.callbacks();v.triggerEvent(c.parentNode,"duplicate");v.triggerEvent(k,"tb_repeatable_duplicate",[e])},5);b.control.preview(c,null,{repeat:!0});b.is_repeat=
null}else e.contains("toggle_row")&&u.toggle(d.target);e.contains("menu_icon")||l.Utils.hideOnClick(g)})},1500);return c},sortable(a,b){const c=q(a);let d=!1,e={};c.sortable({items:".tb_repeatable_field",handle:".tb_repeatable_field_top",axis:"y",tolerance:"pointer",cursor:"move",cancel:".row_menu",start:_.debounce(function(b,c){if(void 0!==tinyMCE)for(b=a.getElementsByClassName("tb_lb_wp_editor"),c=b.length-1;-1<c;--c){let a=b[c].id;e[a]=tinymce.get(a).getContent();tinyMCE.execCommand("mceRemoveEditor",
!1,a)}},300),stop:_.debounce(function(f,g){if(void 0!==tinyMCE){for(let a in e)tinyMCE.execCommand("mceAddEditor",!1,a),tinymce.get(a).setContent(e[a]);e={}}d&&(g.item.removeClass("collapsed").find(".tb_repeatable_field_content").show(),d=!1);c.find(".tb_state_highlight").remove();b.control.preview(a,null,{repeat:!0});v.triggerEvent(a,"sortable")},300),beforeStart(a,b,e){l.Utils.hideOnClick(e.item[0].getElementsByClassName("tb_down")[0]);c.find(".tb_state_highlight").height(30);e.item[0].classList.contains("collapsed")||
(e.item.addClass("collapsed").find(".tb_repeatable_field_content").hide(),d=!0,c.sortable("refresh"))}})},toggle(a){q(a).closest(".tb_repeatable_field").toggleClass("collapsed").find(".tb_repeatable_field_content").slideToggle()},delete(a){a=a.closest(".tb_repeatable_field");v.triggerEvent(k,"tb_repeatable_delete",[a]);q(a).remove()}},accordion:{expand(a,b,c){a.addEventListener("click",function(a){let d=this.getElementsByClassName("tb_accordion_fields_options")[0];if(void 0===d){d=k.createElement("div");
d.style.display="none";d.className="tb_toggleable_fields_options tb_accordion_fields_options";c.is_repeat=!0;let a=null;const e=this.parentNode.closest(".tb_accordion_fields").id,h=this.getAttribute("data-id");void 0!==c.values[e]&&void 0!==c.values[e][h]&&void 0!==c.values[e][h].val&&(a=q.extend(!0,{},c.values),c.values=c.values[e][h].val);d.appendChild(c.create(b.options));this.appendChild(d);"setting"===c.clicked&&c.setUpEditors();c.callbacks();null!==a&&(c.values=a);c.is_repeat=a=null}else if(d.contains(a.target))return;
a.stopPropagation();a.preventDefault();this.classList.contains("tb_closed")?q(d).slideDown(function(){this.parentNode.classList.remove("tb_closed")}):q(d).slideUp(function(){this.parentNode.classList.add("tb_closed")})})},resetMotion(a,b){if(void 0!==b.values.motion_effects)for(var c in b.values.motion_effects)b.values.motion_effects[c].val={},b.values.motion_effects[c].val[c+"_dir"]="";a=a.parentNode.querySelector("#motion_effects");c=a.getElementsByTagName("select");b=a.getElementsByClassName("tb_position_box_wrapper");
a=a.getElementsByClassName("tb_slider_wrapper");for(var d=c.length-1;-1<d;--d)c[d].selectedIndex=0;for(c=b.length-1;-1<c;--c)b[c].querySelector("input").value="50,50",b[c].querySelector(".tb_position_box_handle").setAttribute("style","left:50%;top:50%;");for(b=a.length-1;-1<b;--b){c=a[b].getElementsByClassName("tb_slider_label_u")[0];d=a[b].getElementsByClassName("ui-slider-handle");let e=a[b].getElementsByTagName("input")[0],f=a[b].getElementsByClassName("tb_slider_label_l")[0];c?(e.value="0,100",
d[0].setAttribute("style","left:0%;"),d[1].setAttribute("style","left:100%;"),a[b].getElementsByClassName("ui-slider-range")[0].setAttribute("style","left:0%;width:100%;"),f.textContent="0%",c.textContent="100%"):(e.value="5",d[0].setAttribute("style","left:50%;"),f.textContent="5")}},render(a,b){const c=this,d=k.createElement("ul"),e=k.createDocumentFragment(),f=k.createElement("a");d.id=a.id;d.className="tb_toggleable_fields tb_accordion_fields tb_lb_option";"motion_effects"===a.id&&b.values&&b.values.hasOwnProperty("custom_parallax_scroll_speed")&&
(b.values.hasOwnProperty("motion_effects")||(b.values.motion_effects={v:{val:{v_speed:b.values.custom_parallax_scroll_speed,v_dir:""}},h:{val:{}},t:{val:{t_speed:""}},r:{val:{}},s:{val:{}}},delete b.values.custom_parallax_scroll_speed),b.values.hasOwnProperty("custom_parallax_scroll_reverse")?(b.values.motion_effects.v.val.v_dir="down",delete b.values.custom_parallax_scroll_reverse):b.values.motion_effects.v.val.v_dir="up",b.values.hasOwnProperty("custom_parallax_scroll_fade")&&(b.values.motion_effects.t.val.t_speed=
b.values.custom_parallax_scroll_speed,delete b.values.custom_parallax_scroll_fade));const g=b.values[a.id],h=function(e,f){const g=k.createElement("li"),h=k.createElement("input"),m=k.createElement("div");m.textContent=a.options[e].label;m.className="tb_toggleable_fields_title tb_accordion_fields_title tf_plus_icon";h.type="hidden";h.value="";g.className="tb_closed";g.setAttribute("data-id",e);void 0!==f.val&&(h.value=JSON.stringify(f.val));g.appendChild(h);g.appendChild(m);c.expand(g,a.options[e],
b);d.appendChild(g)};if(void 0!==g)for(let b in g)void 0!==a.options[b]&&h(b,g[b]);for(let b in a.options)void 0!==g&&void 0!==g[b]||h(b,a.options[b]);e.appendChild(d);"motion_effects"===a.id&&(f.href="#",f.className="tb_motion_reset_link",f.textContent=b.label.reset_effect,f.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();c.resetMotion(this,b)}),e.appendChild(f));return e}},toggleable_fields:{sort(a,b){const c=q(a);c.sortable({items:">li",axis:"y",placeholder:"tb_state_highlight",
forcePlaceholderSize:!0,forceHelperSize:!0,cursor:"move",tolerance:"pointer",zIndex:9999,cancel:".tb_toggleable_fields_title,.switch-wrapper,.tb_toggleable_fields_options",stop:_.debounce(function(a,e){c.find(".tb_state_highlight").remove();b.control.preview(c[0],null,{repeat:!0});v.triggerEvent(c[0],"sortable")},300),start(a,b){c.sortable("refreshPositions")},beforeStart(a,b,f){c.sortable("refresh")}})},expand(a,b,c){a.addEventListener("click",function(a){if(this.classList.contains("tb_toggleable_field_disabled")||
null!==a.target.closest(".switch-wrapper"))null===a.target.closest(".tb_toggleable_fields_options")&&(a=this.getElementsByClassName("tb_toggleable_fields_options")[0],q(a).slideUp(function(){this.parentNode.classList.add("tb_closed")}));else{let d=this.getElementsByClassName("tb_toggleable_fields_options")[0];if(void 0===d){d=k.createElement("div");d.style.display="none";d.className="tb_toggleable_fields_options";this.appendChild(d);c.is_repeat=!0;let a=this.closest(".tb_toggleable_fields").id,e=
null,h=this.getAttribute("data-id");void 0!==c.values[a]&&void 0!==c.values[a][h]&&void 0!==c.values[a][h].val&&(e=q.extend(!0,{},c.values),c.values=c.values[a][h].val);d.appendChild(c.create(b.options));"setting"===c.clicked&&c.setUpEditors();c.callbacks();null!==e&&(c.values=e);c.is_repeat=e=null}else if(d.contains(a.target))return;a.stopPropagation();a.preventDefault();this.classList.contains("tb_closed")?q(d).slideDown(function(){this.parentNode.classList.remove("tb_closed")}):q(d).slideUp(function(){this.parentNode.classList.add("tb_closed")})}})},
disable(a,b){const c=a.closest("li"),d=c.classList;a.checked?d.remove("tb_toggleable_field_disabled"):d.add("tb_toggleable_field_disabled","tb_closed");b.control.preview(c.parentNode,null,{repeat:!0})},render(a,b){const c=this,d={type:"toggle_switch",id:"",options:{on:{name:"1",value:b.label.s},off:{name:"0",value:b.label.hi}},control:!1},e=k.createElement("ul");e.className="tb_toggleable_fields";!0===b.is_repeat?(e.dataset.inputId=a.id,e.className+=" tb_lb_option_child"):(e.id=a.id,e.className+=
" tb_lb_option");const f=b.is_repeat,g=b.values[a.id];b.is_repeat=!0;const h=function(f,g){d["default"]="1"===g.on?"on":"off";const h=k.createElement("li"),m=k.createElement("input"),p=k.createElement("div"),l=b.create([d]);p.innerHTML+=a.options[f].label;p.className="tb_toggleable_fields_title tf_plus_icon";m.type="hidden";m.value="";h.className="tb_closed";"off"===d["default"]&&(h.className+=" tb_toggleable_field_disabled");h.setAttribute("data-id",f);void 0!==g.val&&(m.value=JSON.stringify(g.val));
l.querySelector(".toggle_switch").addEventListener("change",function(a){a.stopPropagation();c.disable(this,b)},{passive:!0});h.appendChild(m);h.appendChild(p);h.appendChild(l);c.expand(h,a.options[f],b);e.appendChild(h)};if(void 0!==g)for(let b in g)void 0!==a.options[b]&&h(b,g[b]);for(let b in a.options)void 0===g[b]&&h(b,a.options[b]);b.is_repeat=f;b.afterRun.push(function(){c.sort(e,b)});return e}},sortable_fields:{getDefaults(a,b){const c=[{id:"icon",type:"icon",label:b.label.icon},{id:"before",
type:"text",label:b.label.b_t},{id:"after",type:"text",label:b.label.a_t}];b={date:[{id:"format",type:"select",label:b.label.d_f,"default":"def",options:{"F j, Y":b.label.F_j_Y,"Y-m-d":b.label.Y_m_d,"m/d/Y":b.label.m_d_Y,"d/m/Y":b.label.d_m_Y,def:b.label.def,custom:b.label.cus},binding:{not_empty:{hide:["custom"]},custom:{show:["custom"]}}},{id:"custom",type:"text",control:{event:"change"},label:b.label.cus_f,help:b.label.cus_fd_h}],time:[{id:"format",type:"select",label:b.label.t_f,"default":"def",
options:{"g:i a":b.label.g_i_a,"g:i A":b.label.g_i_A,"H:i":b.label.H_i,def:b.label.def,custom:b.label.cus},binding:{not_empty:{hide:["custom"]},custom:{show:["custom"]}}},{id:"custom",type:"text",control:{event:"change"},label:b.label.cus_f,help:b.label.cus_ft_h}],author:[{id:"l",type:"toggle_switch",label:b.label.l,options:"simple"},{id:"a_p",type:"toggle_switch",label:b.label.a_p,binding:{checked:{show:["p_s"]},not_checked:{hide:["p_s"]}},options:"simple"},{id:"p_s",type:"range",label:b.label.p_s,
"class":"xsmall",units:{px:{min:0,max:96}},control:{event:"change"}}],comments:[{id:"l",type:"toggle_switch",label:b.label.l,options:"simple"},{id:"no",type:"text",control:{event:"change"},label:b.label.no_c},{id:"one",type:"text",control:{event:"change"},label:b.label.one_c},{id:"comments",type:"text",control:{event:"change"},label:b.label.comments}],terms:[{id:"post_type",type:"query_posts",tax_id:"taxonomy"},{id:"l",type:"toggle_switch",label:b.label.l,options:"simple"},{id:"sep",type:"text",control:{event:"change"},
label:b.label.sep}]};if(void 0!==b[a])for(let d=0,e=c.length;d<e;++d)b[a].push(c[d]);return b[a]},create(a,b,c,d,e,f){const g=k.createElement("li");g.textContent=b.options[c].label;g.setAttribute("data-type",c);if(!0===f){f=!1;if(d)void 0!==e&&(f=this.find(e,d));else{void 0!==e&&(f=this.find(e,c,!0));g.setAttribute("data-new",!0);b=x.Lightbox.$lightbox[0].getElementsByClassName(b.id)[0];let a=1;d=c+"_"+a;if(void 0!==b)for(;null!==b.querySelector('[data-id="'+d+'"]');)++a,d=c+"_"+a}g.setAttribute("data-id",
d);c=k.createElement("span");d=k.createElement("input");!1!==f&&void 0!==e[f].val&&(d.value=JSON.stringify(e[f].val));d.type="hidden";c.className="tb_sort_fields_remove tf_close";c.title=a.label["delete"];g.appendChild(l.Utils.getIcon("ti-pencil"));g.appendChild(d);g.appendChild(c)}return g},sort(a,b){const c=q(a);c.sortable({items:">li",appendTo:r.document.body,scroll:!1,containment:"parent",placeholder:"tb_state_highlight",cursor:"move",tolerance:"pointer",zIndex:9999,cancel:".tb_sort_fields_remove,.tb_sort_field_dropdown",
stop:_.debounce(function(a,e){c.find(".tb_state_highlight").remove();b.control.preview(c[0],null,{repeat:!0});v.triggerEvent(c[0],"sortable")},300),start(a,b){a=Math.floor(b.item.width()+1);b.item.width(a);c.find(".tb_state_highlight").width(a);c.sortable("refreshPositions")},beforeStart(a,b,f){f.item[0].classList.remove("current");c.sortable("refresh")}})},find(a,b,c){for(let d=a.length-1;-1<d;--d)if(a[d].id===b||!0===c&&b===a[d].type)return d;return!1},edit(a,b,c,d){var e=d.dataset.type;let f=d.getElementsByClassName("tb_sort_field_dropdown")[0];
if(void 0===f){f=k.createElement("div");f.className="tb_sort_field_dropdown tb_sort_field_dropdown_"+e;var g=k.createElement("span");const h=d.dataset.id;g.className="tb_sort_field_dropdown_pointer";f.appendChild(g);g=null;b=b.options[e].options;void 0===b&&(b=this.getDefaults(e,a));a.is_repeat=a.is_sort=!0;if(void 0!==c){const b=d.dataset["new"]?!0:!1;e=this.find(c,!0===b?e:h,b);!1!==e&&void 0!==c[e].val&&(g=q.extend(!0,{},a.values),a.values=c[e].val)}f.appendChild(a.create(b));d.appendChild(f);
a.callbacks();null!==g&&(a.values=g);a.is_sort=a.is_repeat=g=null}if(!d.classList.contains("current")){const a=function(a){if(a=a.getElementsByClassName("tb_sort_field_dropdown")[0]){const e=a.getElementsByClassName("tb_sort_field_dropdown_pointer")[0];a.style.left="";e.style.left="";if(!0!==ThemifyBuilderCommon.Lightbox.dockMode.get()){var b=a.getBoundingClientRect(),c=ThemifyBuilderCommon.Lightbox.$lightbox[0].getElementsByClassName("tb_options_tab_content")[0].getBoundingClientRect(),d=b.left<
c.left+5?"left":b.right>c.right?"right":"";""!==d&&(b="left"===d?c.left+5-b.left:b.right-c.right,c="left"===d?"calc(50% - "+b+"px)":"calc(50% + "+b+"px)",a.style.left="left"===d?"calc(50% + "+b+"px)":"calc(50% - "+b+"px)",e.style.left=c)}}};d.classList.add("current");a(d);const b=function(c){1===c.which&&(c.target===d||d.contains(c.target)||Themify_Icons.target&&d.contains(Themify_Icons.target[0])&&"block"===this.getElementById("themify_lightbox_fa").style.display?(d.classList.add("current"),a(d)):
(d.classList.remove("current"),r.document.removeEventListener("mousedown",b,{passive:!0})))};r.document.removeEventListener("mousedown",b,{passive:!0});r.document.addEventListener("mousedown",b,{passive:!0})}},remove(a,b){b=b.closest("li");const c=b.parentNode;b.parentNode.removeChild(b);a.control.preview(c,null,{repeat:!0});v.triggerEvent(c,"delete")},render(a,b){const c=this,d=k.createElement("div"),e=k.createElement("div"),f=k.createElement("div"),g=k.createElement("ul"),h=k.createElement("ul"),
m=b.values[a.id]?b.values[a.id].slice(0):[];d.className="tb_sort_fields_wrap";h.className="tb_sort_fields_parent";!0===b.is_repeat?(h.dataset.inputId=a.id,h.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child"):(h.id=a.id,h.className+=" tb_lb_option");g.className="tb_ui_dropdown_items";e.className="tb_ui_dropdown_label tb_sort_fields_plus";e.tabIndex="-1";f.className="tb_sort_fields_plus_wrap";for(let c in a.options)g.appendChild(this.create(b,a,c));for(let c=0,d=m.length;c<d;++c)!0===
b.is_new&&!0!==m[c].show||h.appendChild(this.create(b,a,m[c].type,m[c].id,m,!0));f.appendChild(e);f.appendChild(g);d.appendChild(h);d.appendChild(f);h.addEventListener("click",function(d){d.target.classList.contains("tb_sort_fields_remove")?(d.preventDefault(),d.stopPropagation(),c.remove(b,d.target)):"LI"===d.target.tagName&&(d.preventDefault(),d.stopPropagation(),c.edit(b,a,m,d.target))});g.addEventListener("click",function(d){"LI"===d.target.tagName&&(d.preventDefault(),d.stopPropagation(),l.Utils.hideOnClick(g),
h.appendChild(c.create(b,a,d.target.dataset.type,null,m,!0)),b.control.preview(h,null,{repeat:!0}),q(h).sortable("refresh"))});b.afterRun.push(function(){c.sort(h,b);!0===b.is_new&&b.control.preview(h,null,{repeat:!0})});return d}},multi:{render(a,b){const c=k.createElement("div");c.className="tb_multi_fields tb_fields_count_"+a.options.length;c.appendChild(b.create(a.options));return c}},color:{is_typing:null,controlChange(a,b,c){const d=this,e=q(a),f=c.id,g=k.createElement("div");g.className="tb_clear_btn tf_close";
g.addEventListener("click",function(){g.style.display="none";a.value="";e.trigger("keyup")},{passive:!0});e.minicolors({opacity:1,swatches:themifyColorManager.toColorsArray(),changeDelay:10,beforeShow(){const a=x.Lightbox.$lightbox,b=e.closest(".minicolors"),c=b.find(".minicolors-panel");c.css("visibility","hidden").show();a.offset().left+a.width()<=c.offset().left+c.width()?b[0].classList.add("tb_minicolors_right"):b[0].classList.remove("tb_minicolors_right");c.css("visibility","").hide();l.hasChanged=
!0},show(){themifyColorManager.initColorPicker()},hide(){g.style.display=""!==a.value?"block":"none"},change(a,c){a?c&&("0.99"==c?c=1:0>=parseFloat(c)&&(c=0)):c="";d.is_typing||c===k.activeElement||(b.value=c);a&&0>=parseFloat(q(this).minicolors("opacity"))&&q(this).minicolors("opacity",0);"visual"===l.mode&&v.triggerEvent(this,"themify_builder_color_picker_change",{id:f,val:a?q(this).minicolors("rgbaString"):""})}}).minicolors("show");c=function(b){let c=parseFloat(this.value.trim().replace(",",
"."));if(1<c||isNaN(c)||""===c||0>c)c=a.value?1:"";"blur"===b.type&&(this.value=c);d.is_typing="keyup"===b.type;e.minicolors("opacity",c)};b.addEventListener("blur",c,{passive:!0});b.addEventListener("keyup",c,{passive:!0});a.parentNode.appendChild(g);a.setAttribute("data-minicolors-initialized",!0)},setColor(a,b,c,d){let e=d,f="";""!==d&&(-1!==d.indexOf("_")?(l.Utils.toRGBA(d),d=d.split("_"),(f=d[1])?0>=parseFloat(f)&&(f=0):f=1,e=d[0]):(e=d,f=1),-1===e.indexOf("#")&&(e="#"+e));a.value=e;a.setAttribute("data-opacity",
f);b.style.background=e;b.style.opacity=f;c.value=f},update(a,b,c){a=r.document.getElementById(a);null!==a&&(c=a.parentNode,void 0===b&&(b=""),this.setColor(a,c.getElementsByClassName("minicolors-swatch-color")[0],c.nextElementSibling,b))},render(a,b){const c=k.createDocumentFragment(),d=k.createElement("div"),e=k.createElement("div"),f=k.createElement("input"),g=k.createElement("input"),h=k.createElement("span"),m=k.createElement("span"),p=b.getStyleVal(a.id),l=this;d.className="minicolors_wrapper";
e.className="minicolors minicolors-theme-default";f.type="text";f.className="minicolors-input";f.autocomplete="off";void 0!==a["class"]&&(f.className+=" "+a.class);!0===b.is_repeat?(f.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",f.dataset.inputId=a.id):(f.id=a.id,f.className+=" tb_lb_option");h.className="minicolors-swatch";m.className="minicolors-swatch-color tf_abs";g.type="text";g.className="color_opacity";h.appendChild(m);e.appendChild(f);e.appendChild(h);d.appendChild(e);
d.appendChild(g);b.initControl(f,a);h.addEventListener("click",function(){d.insertAdjacentElement("afterbegin",f);e.parentNode.removeChild(e);l.controlChange(f,g,a)},{once:!0,passive:!0});f.addEventListener("focusin",function(){h.click()},{once:!0,passive:!0});g.addEventListener("focusin",function(a){f.dataset.minicolorsInitialized?q(f).minicolors("show"):(f.dataset.opacity=this.value,h.click())},{passive:!0});void 0!==p&&this.setColor(f,m,g,p);c.appendChild(d);void 0!==a.after&&c.appendChild(b.after(a));
void 0!==a.description&&c.appendChild(b.description(a.description));void 0!==a.tooltip&&c.appendChild(b.tooltip(a.tooltip));return c}},text:{update(a,b,c){a=r.document.getElementById(a);null!==a&&(a.value=void 0!==b?b:"")},render(a,b){const c=k.createDocumentFragment(),d=k.createElement("input"),e=b.getStyleVal(a.id);d.type=void 0!==a.input_type?a.input_type:"text";!0===b.is_repeat?(d.className=!0===b.is_sort?"tb_lb_sort_child":"tb_lb_option_child",d.dataset.inputId=a.id):(d.className="tb_lb_option",
d.id=a.id);void 0!==a.placeholder&&(d.placeholder=a.placeholder);if(void 0!==a.custom_args)for(let b in a.custom_args)d.setAttribute(b,a.custom_args[b]);void 0!==e&&(d.value=e);void 0!==a["class"]&&(d.className+=" "+a.class);c.appendChild(b.initControl(d,a));void 0!==a.unit&&c.appendChild(b.select.render(a.unit,b));void 0!==a.after&&c.appendChild(b.after(a));void 0!==a.description&&c.appendChild(b.description(a.description));void 0!==a.tooltip&&c.appendChild(b.tooltip(a.tooltip));return c}},number:{render(a,
b){a.input_type="number";void 0===a.custom_args&&(a.custom_args={min:0});void 0!==a.step&&(void 0===a.custom_args&&(a.custom_args={}),a.custom_args.step=a.step);return b.text.render(a,b)}},autocomplete:{cache:{},xhr:null,render(a,b){b=b.text.render(a,b);if(void 0===a.dataset)return b;const c=b.querySelector("input"),d=this,e=k.createElement("div");c.autocomplete="off";e.className="tb_autocomplete_container";b.appendChild(e);c.addEventListener("input",function(){const b=this.nextElementSibling;for(b.style.display=
"none";null!==b.firstChild;)b.removeChild(b.firstChild);b.style.display="";const c=this.value,e=a.dataset,m=function(a){const c=k.createDocumentFragment();for(let b in a){let d=k.createElement("div");d.className="tb_autocomplete_item";d.setAttribute("data-value",b);d.innerText=a[b];c.appendChild(d)}b.classList.add("tf_scrollbar");b.appendChild(c)};void 0===d.cache[e]&&(d.cache[e]={});if(void 0!==d.cache[e][c])m(d.cache[e][c]);else if(""!==c){null!==d.xhr&&d.xhr.abort();const a=this.parentNode;a.classList.add("tb_autocomplete_loading",
"tf_loader");d.xhr=q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_get_autocomplete",dataset:e,value:c,nonce:themifyBuilder.tb_load_nonce,pid:themifyBuilder.post_ID},success(a){a.success&&(d.cache[e][c]=a.data,m(a.data))},complete(){d.xhr=null;a.classList.remove("tb_autocomplete_loading","tf_loader")}})}},{passive:!0});e.addEventListener("mousedown",function(a){if(1===a.which&&a.target.classList.contains("tb_autocomplete_item")){a.preventDefault();a.stopPropagation();
const b=this.previousElementSibling;b.value=a.target.getAttribute("data-value");b.blur();v.triggerEvent(b,"change")}});return b}},file:{_frames:{},clicked:null,browse(a,b,c,d){const e=this;a.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();let f;void 0!==e._frames[d]?f=e._frames[d]:(f=wp.media.frames.file_frame=wp.media({title:c.label.upload_image,library:{type:d},button:{text:c.label.insert_image},multiple:!1}),e._frames[d]=f);f.off("select").on("select",function(){l.ActionBar.disable=
!0;const a=f.state().get("selection").first().toJSON();b.value=a.url;v.triggerEvent(b,"change");l.hasChanged=!0;q(b).trigger("change");const c=x.Lightbox.$lightbox.find("#"+b.id+"_id")[0];void 0!==c&&(c.value=a.id)});f.on("close",function(){l.ActionBar.disable=!0;setTimeout(function(){l.ActionBar.disable=null},5)});f.open()});"image"===d&&b.addEventListener("change",function(b){l.hasChanged=!0;e.setImage(a,this.value.trim())},{passive:!0})},setImage(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);
if(b){const c=k.createElement("img");c.width=40;c.height=40;c.src=b;a.appendChild(c)}},update(a,b,c){a=ThemifyBuilderCommon.Lightbox.$lightbox[0].querySelector("#"+a);null!==a&&(void 0===b&&(b=""),a.value=b,this.setImage(a.parentNode.getElementsByClassName("thumb_preview")[0],b))},render(a,b,c){const d=k.createElement("div"),e=k.createElement("input"),f=k.createElement("a"),g=k.createElement("span"),h=c.getStyleVal(b.id);let m;e.type="text";e.className="tb_uploader_input";e.required=!0;e.setAttribute("pattern",
/.*\S.*/.source);e.setAttribute("autocomplete","off");!0===c.is_repeat?(e.className+=!0===c.is_sort?" tb_lb_sort_child":" tb_lb_option_child",m=Math.random().toString(36).substr(2,7),e.dataset.inputId=b.id):(e.className+=" tb_lb_option",m=b.id);e.id=m;void 0!==h&&(e.value=h);g.className="tb_clear_input tf_close";f.className="tb_media_uploader tb_upload_btn thumb_preview tf_plus_icon";f.href="#";f.dataset.libraryType=a;f.title=c.label.browse_image;d.className="tb_uploader_wrapper";d.appendChild(c.initControl(e,
b));d.appendChild(g);d.appendChild(f);"image"===a&&this.setImage(f,h);this.browse(f,e,c,a);void 0!==b.after&&d.appendChild(c.after(b));void 0!==b.description&&d.appendChild(c.description(b.description));void 0!==b.tooltip&&d.appendChild(c.tooltip(b.tooltip));if(null===this.clicked&&!0===c.is_new&&"setting"===c.clicked&&("image"===c.type||"pro-image"===c.type)){this.clicked=!0;const a=this;c.afterRun.push(function(){f.click();a.clicked=null})}return d}},image:{render(a,b){return b.file.render("image",
a,b)}},video:{render(a,b){return b.file.render("video",a,b)}},audio:{render(a,b){return b.file.render("audio",a,b)}},icon_radio:{controlChange(a){a.addEventListener("click",function(b){b.preventDefault();b.stopImmediatePropagation();b.target!==a&&(b=b.target.closest("label").getElementsByTagName("input")[0],!0===b.checked?(b.checked=!1,b.value=void 0):(b.checked=!0,b.value=b.getAttribute("data-value")),l.hasChanged=!0,v.triggerEvent(b,"change"))})},render(a,b){return b.radioGenerate("icon_radio",
a)}},radio:{controlChange(a){var b=null;a.classList.contains("tb_radio_dnd")&&(b=a.closest(".tb_repeatable_field_content"));null===b&&(b=a.closest(".tb_tab"),null===b&&(b=a.closest(".tb_expanded_opttions"),null===b&&(b=x.Lightbox.$lightbox[0])));const c=a.parentNode.parentNode.getElementsByTagName("input"),d=a.value;a=b.getElementsByClassName("tb_group_element_"+d);for(let a=c.length-1;-1<a;--a){var e=c[a].value;if(d!==e){e=b.getElementsByClassName("tb_group_element_"+e);for(let a=e.length-1;-1<a;--a)e[a].style.display=
"none"}}for(b=a.length-1;-1<b;--b)a[b].style.display="block"},update(a,b,c){c=r.document.getElementById(a);if(null!==c){a=c.getElementsByTagName("input");const d=c.classList.contains("tb_icon_radio");let e=null;for(let c=a.length-1;-1<c;--c)if(a[c].value===b){e=a[c];break}null===e&&(b=c.dataset["default"],void 0!==b&&(e=c.querySelector('[value="'+b+'"]')),!1===d&&null===e&&(e=a[0]));if(null!==e)e.checked=!0,!1===d&&c.classList.contains("tb_option_radio_enable")&&this.controlChange(e);else if(!0===
d)for(b=a.length-1;-1<b;--b)a[b].checked=!1}},render(a,b){return b.radioGenerate("radio",a)}},icon_checkbox:{render(a,b){return b.checkboxGenerate("icon_checkbox",a)}},checkbox:{update(a,b,c){c=r.document.getElementById(a);if(null!==c){a=c.getElementsByTagName("input");c=c.classList.contains("tb_option_checkbox_enable");b=b?b.split("|"):[];for(let d=a.length-1;-1<d;--d)a[d].checked=-1!==b.indexOf(a[d].value),!0===c&&this.controlChange(a[d])}},controlChange(a){const b=a.classList.contains("tb_radio_dnd")?
a.closest(".tb_repeatable_field_content"):x.Lightbox.$lightbox[0];var c=a.parentNode.parentNode;a=c.getElementsByTagName("input");c=c.classList.contains("tb_option_checkbox_revert");for(let d=a.length-1;-1<d;--d){let e=b.getElementsByClassName("tb-checkbox_element_"+a[d].value),f=a[d].checked;for(let a=e.length-1;-1<a;--a)!0===c&&!1===f||!1===c&&!0===f?e[a].classList.remove("_tb_hide_binding"):e[a].classList.add("_tb_hide_binding")}},render(a,b){return b.checkboxGenerate("checkbox",a)}},radioGenerate(a,
b){const c=k.createDocumentFragment(),d=k.createElement("div");a="icon_radio"===a;const e=this.getOptions(b),f=this.getStyleVal(b.id),g=!0===b.option_js,h=[],m=this;let p=null,l=void 0!==b["default"]?b.default:!1,u;d.className="tb_radio_input_container";d.setAttribute("tabIndex","-1");!0===g&&(d.className+=" tb_option_radio_enable");!0===a&&(d.className+=" tb_icon_radio",p=void 0===b.no_toggle);!0===this.is_repeat?(d.className+=!0===this.is_sort?" tb_lb_sort_child":" tb_lb_option_child",u=Math.random().toString(36).substr(2,
7),d.dataset.inputId=b.id):(d.className+=" tb_lb_option",d.id=u=b.id);!1!==l?d.dataset["default"]=l:!1===a&&void 0===f&&(l=e[0].value);void 0!==b.before&&c.appendChild(k.createTextNode(b.before));for(let c=0,p=e.length;c<p;++c){let p=k.createElement("label"),n=k.createElement("input");n.type="radio";n.name=u;n.value=e[c].value;!0===a&&n.setAttribute("data-value",e[c].value);!0===this.is_repeat&&(n.className="tb_radio_dnd");void 0!==b["class"]&&(n.className+=!0===this.is_repeat?" "+b.class:b.class);
!0===e[c].disable&&(n.disabled=!0);if(f===e[c].value||void 0===f&&l===e[c].value)n.checked=!0,!0===g&&h.push(n);p.appendChild(n);!0===g&&n.addEventListener("change",function(){this.parentNode.parentNode.blur();m.radio.controlChange(this)},{passive:!0});if(!0===a){if(void 0!==e[c].icon){var t=k.createElement("span");t.className="tb_icon_wrapper";t.innerHTML=e[c].icon;p.insertAdjacentElement("beforeend",t)}void 0!==e[c].label_class&&(p.className+=e[c].label_class);void 0!==e[c].name&&(t=k.createElement("span"),
t.className="themify_tooltip",t.textContent=e[c].name,p.appendChild(t))}else void 0!==e[c].name&&(t=k.createElement("span"),t.textContent=e[c].name,p.appendChild(t));d.appendChild(p);void 0!==b.new_line&&d.appendChild(k.createElement("br"));this.initControl(n,b)}d.addEventListener("click",function(a){"LABEL"===a.target.parentNode.tagName&&this.blur()});c.appendChild(d);void 0!==b.after&&c.appendChild(m.after(b));void 0!==b.description&&c.appendChild(m.description(b.description));!0===a&&!0===p&&m.icon_radio.controlChange(d);
!0===g&&this.radioChange.push(function(){for(let a=0,b=h.length;a<b;++a)m.radio.controlChange(h[a])});return c},checkboxGenerate(a,b){const c=k.createDocumentFragment(),d=k.createElement("div"),e=this.getOptions(b);a="icon_checkbox"===a;const f=!0===b.option_js,g=void 0===b.new_line,h=this,m=[];let p=this.getStyleVal(b.id),n=null,u=null;d.className="themify-checkbox";!0===f&&(d.className+=" tb_option_checkbox_enable",void 0!==b.reverse&&(d.className+=" tb_option_checkbox_revert"));!0===this.is_repeat?
(d.className+=!0===this.is_sort?" tb_lb_sort_child":" tb_lb_option_child",d.dataset.inputId=b.id):(d.className+=" tb_lb_option",d.id=b.id);void 0!==b.wrap_checkbox&&(d.className+=" "+b.wrap_checkbox);void 0===p?void 0!==b["default"]&&(n=b["default"],u=Array.isArray(n)):!1!==p&&(p=p.split("|"));!0===a&&(d.className+=" tb_icon_checkbox");void 0!==b.before&&c.appendChild(k.createTextNode(b.before));for(let c=0,w=e.length;c<w;++c){let t=k.createElement("label"),w=k.createElement("input");w.type="checkbox";
w.className="tb-checkbox";w.value=e[c].name;!0===this.is_repeat&&(w.className+=!0===this.is_sort?" tb_lb_sort_child":" tb_lb_option_child");void 0!==b["class"]&&(w.className+=" "+b.class);if(void 0!==p&&!1!==p&&-1!==p.indexOf(e[c].name)||n===e[c].name||!0===u&&-1!==n.indexOf(e[c].name))w.checked=!0;!0===f&&(w.addEventListener("change",function(){h.checkbox.controlChange(this)},{passive:!0}),m.push(w));"hide_anchor"===b.id&&l.Utils.changeOptions(w,"hide_anchor");!1===g&&(t.className="pad-right");t.appendChild(w);
if(!0===a){if(t.insertAdjacentHTML("beforeend",e[c].icon),void 0!==e[c].value){let a=k.createElement("span");a.className="themify_tooltip";a.textContent=e[c].value;t.appendChild(a)}}else void 0!==e[c].value&&t.appendChild(k.createTextNode(e[c].value));d.appendChild(t);void 0!==e[c].help&&d.appendChild(this.help(e[c].help));!0===g&&d.appendChild(k.createElement("br"));this.initControl(w,b)}"hide_anchor"===b.id&&d.addEventListener("click",function(a){a.stopPropagation()});c.appendChild(d);void 0!==
b.after&&(void 0!==b.label&&""!==b.label||void 0===b.help||""===b.help?c.appendChild(this.after(b)):(d.className+=" contains-help",d.appendChild(this.after(b))));void 0!==b.description&&c.appendChild(this.description(b.description));!0===f&&this.afterRun.push(function(){for(let a=0,b=m.length;a<b;++a)h.checkbox.controlChange(m[a])});return c},date:{loaded:null,render(a,b){const c=k.createDocumentFragment(),d=k.createElement("input"),e=k.createElement("button"),f=this,g=function(){const b=r.jQuery.fn.themifyDatetimepicker?
r.jQuery.fn.themifyDatetimepicker:r.jQuery.fn.datetimepicker;if(b){var c=void 0!==a.picker?a.picker:{};e.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();d.value="";d.dispatchEvent(new Event("change"));this.style.display="none"});b.call(q(d),{showButtonPanel:!0,changeYear:!0,dateFormat:c.dateformat||"yy-mm-dd",timeFormat:c.timeformat||"HH:mm:ss",stepMinute:5,stepSecond:5,controlType:c.timecontrol||"select",oneLine:!0,separator:c.timeseparator||" ",onSelect(a){e.style.display=
""===a?"none":"block";d.dispatchEvent(new Event("change"))},beforeShow(){r.document.getElementById("ui-datepicker-div").classList.add("themify-datepicket-panel")}})}};d.type="text";d.autocomplete="off";d.className="themify-datepicker";!0===b.is_repeat?(d.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",d.dataset.inputId=a.id):(d.className+=" tb_lb_option",d.id=a.id);d.readonly=!0;e.className="themify-datepicker-clear tf_close";e.textContent=b.label.clear_date;void 0!==b.values[a.id]&&
(d.value=b.values[a.id]);void 0!==a["class"]&&(d.className+=" "+a.class);d.value||(e.style.display="none");c.appendChild(b.initControl(d,a));c.appendChild(e);void 0!==a.after&&c.appendChild(b.after(a));void 0!==a.description&&c.appendChild(b.description(a.description));null===this.loaded?b.afterRun.push(function(){r.Themify.LoadCss(themifyBuilder.meta_url+"css/jquery-ui-timepicker.min.css",themify_vars.version);r.Themify.LoadAsync(themifyBuilder.includes_url+"js/jquery/ui/datepicker.min.js",function(){r.Themify.LoadAsync(themifyBuilder.meta_url+
"js/jquery-ui-timepicker.min.js",function(){f.loaded=!0;setTimeout(g,10)},themify_vars.version,null,function(){return void 0!==r.jQuery.fn.themifyDatetimepicker||void 0!==r.jQuery.fn.datetimepicker})},themify_vars.wp,null,function(){return void 0!==r.jQuery.fn.datepicker})}):b.afterRun.push(g);return c}},gradient:{controlChange(a,b,c,d,e,f,g,h,m){var k=a.getStyleVal(f.id);if(void 0===k||""===k)k=180;let n=!1,u=q(b),t=a.getStyleVal(c.id),w={angle:k,onChange(a,b){n&&(a=b="");"visual"===l.mode&&v.triggerEvent(c,
"themify_builder_gradient_change",{val:b});c.value=a;l.hasChanged=!0},onInit(){b.style.display="block"}};t&&(w.gradient=t,c.value=t);f.value=k;k=a.getStyleVal(e.id);if(void 0===k||""===k)k="linear";e.value=k;w.type=k;g.checked&&(w.circle=!0);m||u.ThemifyGradient(w);const y=u.data("themifyGradient"),r=function(a){let b=f.parentNode;b.classList.contains("gradient-angle-knob")||(b=f);"radial"===a?(h.style.display=b.style.display="none",g.parentNode.style.display="inline-block"):(h.style.display=b.style.display=
"inline-block",g.parentNode.style.display="none")};m?(y.settings=q.extend({},y.settings,w),y.settings.type=k,y.settings.circle=g.checked,y.isInit=!1,y.update(),y.isInit=!0):(d.addEventListener("click",function(a){a.preventDefault();a.stopImmediatePropagation();n=!0;y.settings.gradient=q.ThemifyGradient.default;y.update();n=!1}),e.addEventListener("change",function(a){a=this.value;y.setType(a);r(a)},{passive:!0}),g.addEventListener("change",function(){y.setRadialCircle(this.checked)},{passive:!0}),
f.addEventListener("mousedown",function B(){q(this).knob({min:0,max:360,step:1,width:63,height:63,thickness:.45,cursor:!0,lineCap:"round",change(a){y.setAngle(Math.round(a))}});this.removeAttribute("style");const a=this.parentNode;a.classList.add("gradient-angle-knob");a.removeAttribute("style");a.insertAdjacentElement("afterbegin",this);this.addEventListener("change",function(){let a=parseInt(this.value);a||(a=0);y.setAngle(a)},{passive:!0});f.removeEventListener("mousedown",B,{once:!0,passive:!0})},
{once:!0,passive:!0}));r(a.getStyleVal(e.id))},update(a,b,c){var d=a+"-gradient";b=r.document.getElementById(d);if(null!==b){const e=r.document.getElementById(d+"-angle");d=r.document.getElementById(d+"-type");a=r.document.getElementById(a+"-circle-radial");const f=a.previousElementSibling;this.controlChange(c,b.previousElementSibling,b,null,d,e,a.getElementsByClassName("tb-checkbox")[0],f,!0)}},render(a,b){const c=k.createElement("div"),d=k.createElement("div"),e=k.createElement("select"),f=["linear",
"radial"],g=k.createElement("input"),h=k.createElement("span"),m=k.createElement("div"),p=k.createElement("input"),l=k.createElement("a"),u=this;c.className="themify-gradient-field";void 0!==a.option_js&&(c.className+=" tb_group_element_gradient");d.className="selectwrapper";e.className="tb_lb_option themify-gradient-type";e.id=a.id+"-gradient-type";g.type="text";g.className="xsmall tb_lb_option themify-gradient-angle";g.id=a.id+"-gradient-angle";g.autocomplete="off";g.value=180;h.textContent=b.label.rotation;
m.className="tb_gradient_container";m.tabIndex=-1;p.type="hidden";p.className="themify-gradient tb_lb_option";p.dataset.id=a.id;p.id=a.id+"-gradient";l.className="tb_clear_gradient tf_close";var t=k.createElement("span");t.className="themify_tooltip";t.innerText=b.label.clear_gradient;l.appendChild(t);l.href="#";for(t=0;2>t;++t){let a=k.createElement("option");a.value=f[t];a.textContent=b.label[f[t]];e.appendChild(a)}d.appendChild(e);c.appendChild(d);c.appendChild(g);c.appendChild(h);c.appendChild(b.checkboxGenerate("checkbox",
{id:a.id+"-circle-radial",options:[{name:"1",value:b.label.circle_radial}]}));c.appendChild(m);c.appendChild(p);c.appendChild(l);b.initControl(p,a);b.afterRun.push(function(){u.controlChange(b,m,p,l,e,g,c.getElementsByClassName("tb-checkbox")[0],h)});return c}},fontColor:{update(a,b,c){c.radio.update(a,c.getStyleVal(a),c)},render(a,b){a.isFontColor=!0;const c=b.radioGenerate("radio",{id:a.id,type:"radio",option_js:!0,isFontColor:!0,options:[{value:a.s+"_solid",name:b.label.solid},{value:a.g+"_gradient",
name:b.label.gradient}]}),d=c.querySelector(".tb_lb_option"),e=q.extend(!0,{},a);e.label="";e.type="color";e.id=a.s;e.prop="color";e.wrap_class="tb_group_element_"+a.s+"_solid";const f=b.create([e]);e.id=a.g;e.wrap_class="tb_group_element_"+a.g+"_gradient";e.type="gradient";e.prop="background-image";const g=b.create([e]);b.afterRun.push(function(){const a=d.parentNode.closest(".tb_field");a.parentNode.insertBefore(f,a.nextElementSibling);a.parentNode.insertBefore(g,a.nextElementSibling)});return c}},
imageGradient:{update(a,b,c){c.radio.update(a+"-type",c.getStyleVal(a+"-type"),c);c.file.update(a,b,c);c.gradient.update(a,b,c);a=r.document.getElementById(a);if(null!==a){b=a.closest(".tb_tab");a=b.getElementsByClassName("tb_image_options");b=b.getElementsByClassName("tb_gradient_image_color")[0].getElementsByClassName("minicolors-input")[0].id;c.color.update(b,c.getStyleVal(b),c);for(let d=0;d<a.length;++d)b=a[d].getElementsByClassName("tb_lb_option")[0].id,c.select.update(b,c.getStyleVal(b),c)}},
render(a,b){const c=k.createElement("div"),d=k.createElement("div");c.className="tb_image_gradient_field";d.className="tb_group_element_image";c.appendChild(b.radioGenerate("radio",{type:a.type,id:a.id+"-type",options:[{name:b.label.image,value:"image"},{name:b.label.gradient,value:"gradient"}],option_js:!0}));const e=q.extend(!0,{},a);e.type="image";e.class="xlarge";d.appendChild(b.file.render("image",q.extend(!0,{},e),b));c.appendChild(d);e.type="gradient";delete e.class;delete e.binding;c.appendChild(b.gradient.render(e,
b));b.afterRun.push(function(){const a={wrap_class:"tb_group_element_image",type:"group",options:[]};e.prop="background-color";e.wrap_class="tb_gradient_image_color";e.label=b.label.bg_c;e.type="color";e.id=e.colorId;a.options.push(q.extend({},e));e.prop="background-mode";e.wrap_class="tb_image_options";e.label=b.label.b_r;e.repeat=!0;e.type="select";e.id=e.repeatId;a.options.push(q.extend({},e));e.prop="background-position";e.wrap_class="tb_image_options";e.label=b.label.b_p;e.position=!0;e.type=
"position_box";e.id=e.posId;delete e.repeat;a.options.push(q.extend({},e));const c=d.parentNode.closest(".tb_field");c.parentNode.insertBefore(b.create([a]),c.nextElementSibling)});return c}},layout:{controlChange(a){a.addEventListener("click",function(b){b.preventDefault();b.stopPropagation();if(b.target!==a&&(b=b.target.closest("a"),null!==b)){const a=this.getElementsByClassName("tfl-icon");for(let b=a.length-1;-1<b;--b)a[b].classList.remove("selected");b.classList.add("selected");l.hasChanged=
!0;v.triggerEvent(this,"change",{val:b.id})}})},update(a,b,c){c=r.document.getElementById(a);if(null!==c){a=c.getElementsByClassName("tfl-icon");for(let c=a.length-1;-1<c;--c)b===a[c].id?a[c].classList.add("selected"):a[c].classList.remove("selected");void 0===b&&(b=c.dataset["default"],b=void 0===b?a[0]:b.querySelector("#"+b),b.classList.add("selected"))}},render(a,b){const c=k.createElement("div");let d=b.getOptions(a);var e=b.getStyleVal(a.id);!0===a.color&&!0===a.transparent&&(d=d.slice(),d.push({img:"transparent",
value:"transparent",label:b.label.transparent}));c.className="themify-layout-icon";!0===b.is_repeat?(c.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",c.dataset.inputId=a.id):(c.className+=" tb_lb_option",c.id=a.id);void 0!==a["class"]&&(c.className+=" "+a.class);void 0===e&&(e=themifyBuilder.modules[b.type],e=void 0!==e&&void 0!==e.defaults&&e.defaults[a.id]?e.defaults[a.id]:d[0].value);for(let b=0,g=d.length;b<g;++b){let f=k.createElement("a"),g=k.createElement("span"),p;f.href=
"#";f.className="tfl-icon";f.id=d[b].value;e===d[b].value&&(f.className+=" selected");g.className="themify_tooltip";g.textContent=d[b].label;"sprite"===a.mode&&-1===d[b].img.indexOf(".png")?(p=k.createElement("span"),p.className="tb_sprite",-1!==d[b].img.indexOf("http")?p.style.backgroundImage="url("+d[b].img+")":p.className+=" tb_"+d[b].img):(p=k.createElement("img"),p.alt=d[b].label,p.src=-1!==d[b].img.indexOf("http")?d[b].img:themifyBuilder.builder_url+"/editor/img/"+d[b].img);f.appendChild(p);
f.appendChild(g);c.appendChild(f)}this.controlChange(c);"row"!==b.component||"row_width"!==a.id&&"row_height"!==a.id?b.initControl(c,a):l.Utils.changeOptions(c,a.type);return c}},layoutPart:{data:[],get(a){const b=this;q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_get_library_items",nonce:themifyBuilder.tb_load_nonce,pid:themifyBuilder.post_ID},beforeSend(a){x.showLoader("show")},success(c){x.showLoader("hide");b.data=c;a()},error(){x.showLoader("error")}})},render(a,
b){function c(){const c=b.values[a.id],e=null!==l.Forms.LayoutPart.id?l.Forms.LayoutPart.id.toString():null;m.appendChild(k.createElement("option"));for(let a=0,b=d.data.length;a<b;++a)if(e!==d.data[a].id.toString()){let b=k.createElement("option");b.value=d.data[a].post_name;b.textContent=d.data[a].post_title;c===d.data[a].post_name&&(b.selected=!0);m.appendChild(b)}}const d=this,e=k.createDocumentFragment(),f=b.select.render(a,b),g=k.createElement("a"),h=k.createElement("a"),m=f.querySelector("select");
0===d.data.length?d.get(c):c();e.appendChild(f);g.target=h.target="_blank";g.className="tb_icon_btn";g.href=a.edit_url;h.href=a.add_url;h.className="add_new tf_plus_icon tb_icon_btn";g.appendChild(l.Utils.getIcon("ti-folder"));g.appendChild(k.createTextNode(b.label.mlayout));h.appendChild(k.createTextNode(b.label.nlayout));e.appendChild(k.createElement("br"));e.appendChild(h);e.appendChild(g);return e}},separator:{render(a,b){const c=void 0!==b.label[a.label]?b.label[a.label]:a.label;if(void 0!==
c){b=void 0!==a.wrap_class?k.createElement("div"):k.createDocumentFragment();const d=k.createElement("h4");d.textContent=c;b.appendChild(k.createElement("hr"));b.appendChild(d)}else void 0!==a.html?(b=k.createElement("div"),b.innerHTML=a.html,b=b.firstChild):b=k.createElement("hr");void 0!==a.wrap_class&&(b.className=a.wrap_class);return b}},multiColumns:{render(a,b){const c=[],d=[{id:a.id+"_gap",label:b.label.c_g,type:"range",prop:"column-gap",selector:a.selector,wrap_class:"tb_multi_columns_wrap",
units:{px:{min:0,max:500}}},{type:"multi",wrap_class:"tb_multi_columns_wrap",label:b.label.c_d,options:[{type:"color",id:a.id+"_divider_color",prop:"column-rule-color",selector:a.selector},{type:"range",id:a.id+"_divider_width",class:"tb_multi_columns_width",prop:"column-rule-width",selector:a.selector,units:{px:{min:0,max:500}}},{type:"select",id:a.id+"_divider_style",options:b.static.border,prop:"column-rule-style",selector:a.selector}]}];for(let a=0;7>a;++a)c[a]=0===a?"":a;a.options=c;a=q.extend(!0,
{},a);a.type="select";a=b.select.render(a,b);const e=a.querySelector("select");b.afterRun.push(function(){const a=e.closest(".tb_field");a.parentNode.insertBefore(b.create(d),a.nextElementSibling)});return a}},expand:{render(a,b){const c=k.createElement("fieldset"),d=k.createElement("div"),e=k.createElement("div"),f=void 0!==b.label[a.label]?b.label[a.label]:a.label;c.className="tb_expand_wrap";e.className="tb_style_toggle tb_closed";d.className="tb_expanded_opttions";e.appendChild(k.createTextNode(f));
e.appendChild(l.Utils.getIcon("ti-angle-up"));c.appendChild(e);c.appendChild(d);e.addEventListener("click",function(c){c.preventDefault();c.stopImmediatePropagation();void 0===this.dataset.done&&(this.dataset.done=!0,d.appendChild(b.create(a.options)),"setting"===b.clicked&&b.setUpEditors(),b.callbacks(),v.body.triggerHandler("tb_options_expand",[d]));this.classList.contains("tb_closed")?this.classList.remove("tb_closed"):this.classList.add("tb_closed")});return c}},gallery:{file_frame:null,cache:{},
init(a,b){const c=wp.media.gallery.shortcode,d=this,e=b.value.trim(),f=function(a,c){const d=k.createElement("div");var e=b.parentNode.getElementsByClassName("tb_shortcode_preview")[0];d.className="tb_shortcode_preview";void 0!==e&&e.parentNode.removeChild(e);for(let b=0,f=a.length;b<f;++b){e=k.createElement("img");e.width=e.height=50;if(!0===c)e.src=a[b];else{let c=a[b].attributes;e.src=c.sizes.thumbnail?c.sizes.thumbnail.url:c.url}d.appendChild(e)}b.parentNode.insertBefore(d,b.nextElementSibling)};
0<e.length&&(void 0!==this.cache[e]?f(this.cache[e],!0):q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_load_shortcode_preview",tb_load_nonce:themifyBuilder.tb_load_nonce,shortcode:e},success(a){f(a,!0);d.cache[e]=a}}));a.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();null===d.file_frame?(d.file_frame=wp.media.frames.file_frame=wp.media({frame:"post",state:"gallery-library",library:{type:"image"},title:wp.media.view.l10n.editGalleryTitle,
editing:!0,multiple:!0,selection:!1}),d.file_frame.el.classList.add("themify_gallery_settings")):d.file_frame.options.selection.reset();wp.media.gallery.shortcode=function(a){const b=a.props.toJSON(),d=_.pick(b,"orderby","order");a.gallery&&_.extend(d,a.gallery.toJSON());d.ids=a.pluck("id");b.uploadedTo&&(d.id=b.uploadedTo);d._orderbyRandom&&(d.orderby="rand",delete d._orderbyRandom);d.ids&&"post__in"===d.orderby&&delete d.orderby;for(let a in wp.media.gallery.defaults)wp.media.gallery.defaults[a]===
d[a]&&delete d[a];delete d._orderByField;a=new r.wp.shortcode({tag:"gallery",attrs:d,type:"single"});wp.media.gallery.shortcode=c;return a};a=b.value.trim();0<a.length?(d.file_frame=wp.media.gallery.edit(a),d.file_frame.state("gallery-edit")):(d.file_frame.state("gallery-library"),d.file_frame.open(),d.file_frame.$el.find(".media-menu .media-menu-item").last().trigger("click"));a=function(a){const c=wp.media.gallery.shortcode(a).string().slice(1,-1);b.value="["+c+"]";f(a.models);v.triggerEvent(b,
"change");l.hasChanged=!0};d.file_frame.off("update",a).on("update",a)})},render(a,b){const c=k.createDocumentFragment(),d=k.createElement("a"),e=this;let f=void 0!==a.class?a.class:"";d.href="#";d.className="builder_button tb_gallery_btn";d.textContent=b.label.add_gallery;a.class=f+" tb_shortcode_input";c.appendChild(b.textarea.render(a,b));c.appendChild(d);b.afterRun.push(function(){e.init(d,d.previousElementSibling);!0===b.is_new&&"gallery"===b.type&&"setting"===b.clicked&&d.click()});return c}},
textarea:{render(a,b){const c=k.createDocumentFragment(),d=k.createElement("textarea"),e=b.getStyleVal(a.id);!0===b.is_repeat?(d.className=!0===b.is_sort?"tb_lb_sort_child":"tb_lb_option_child",d.dataset.inputId=a.id):(d.className="tb_lb_option",d.id=a.id);d.className+=" "+(void 0!==a["class"]?a.class:"xlarge");void 0!==e&&(d.value=e);void 0!==a.rows&&(d.rows=a.rows);c.appendChild(b.initControl(d,a));void 0!==a.after&&c.appendChild(b.after(a));void 0!==a.description&&c.appendChild(b.description(a.description));
return c}},address:{render(a,b){return b.textarea.render(a,b)}},wp_editor:{render(a,b){const c=k.createElement("div"),d=k.createElement("div"),e=k.createElement("div"),f=k.createElement("button"),g=k.createElement("span"),h=k.createElement("div"),m=k.createElement("button"),l=k.createElement("button"),n=k.createElement("div"),u=k.createElement("div"),t=k.createElement("textarea");let w;c.className="wp-core-ui wp-editor-wrap tmce-active";t.className="tb_lb_wp_editor fullwidth";!0===b.is_repeat?(w=
Math.random().toString(36).substr(2,7),t.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",t.dataset.inputId=a.id,!1!==a.control&&(void 0===a.control&&(a.control={}),a.control.repeat=!0)):(t.className+=" tb_lb_option",w=a.id);t.id=w;c.id="wp-"+w+"-wrap";d.id="wp-"+w+"-editor-tools";d.className="wp-editor-tools";e.id="wp-"+w+"-media-buttons";e.className="wp-media-buttons";f.type="button";f.className="button insert-media add_media";g.className="wp-media-buttons-icon";h.className="wp-editor-tabs";
m.type="button";m.className="wp-switch-editor switch-tmce";m.id=w+"-tmce";m.dataset.wpEditorId=w;m.textContent=b.label.visual;l.type="button";l.className="wp-switch-editor switch-html";l.id=w+"-html";l.dataset.wpEditorId=w;l.textContent=b.label.text;n.id="wp-"+w+"-editor-container";n.className="wp-editor-container";u.id="qt_"+w+"_toolbar";u.className="quicktags-toolbar";void 0!==a["class"]&&(t.className+=" "+a.class);void 0!==b.values[a.id]&&(t.value=b.values[a.id]);t.rows=12;t.cols=40;n.appendChild(t);
n.appendChild(u);h.appendChild(m);h.appendChild(l);f.appendChild(g);f.appendChild(k.createTextNode(b.label.add_media));e.appendChild(f);d.appendChild(e);d.appendChild(h);c.appendChild(d);c.appendChild(n);b.editors.push({el:t,data:a});return c}},select:{dataset_cache:{},update(a,b,c){a=r.document.getElementById(a);null!==a&&(void 0!==b?a.value=b:void 0!==a[0]&&(a[0].selected=!0))},make_options:function(a,b,c){const d=k.createDocumentFragment();c=c.getOptions(a);for(let e in c){let f=k.createElement("option");
f.value=e;f.text=c[e];void 0!==a.binding&&void 0!==a.binding[e]&&void 0!==a.binding[e].responsive&&void 0!==a.binding[e].responsive.disabled&&-1!==a.binding[e].responsive.disabled.indexOf(a.id)&&(f.className="responsive_disable");if(b===e||void 0===b&&e===a.default)f.selected=!0;d.appendChild(f)}return d},render(a,b){const c=this,d=k.createElement("div"),e=k.createElement("select"),f=k.createDocumentFragment(),g=b.getStyleVal(a.id);d.className="selectwrapper";!0===b.is_repeat?(e.className=!0===b.is_sort?
"tb_lb_sort_child":"tb_lb_option_child",e.dataset.inputId=a.id):(e.className="tb_lb_option",e.id=a.id);void 0!==a["class"]&&(e.className+=" "+a.class);const h=function(a){if(a.optgroup){a=b.getOptions(a);for(let d in a)if(void 0!==a[d].label){let f=k.createElement("optgroup");f.setAttribute("label",a[d].label);f.appendChild(c.make_options(a[d],g,b));e.appendChild(f)}else e.appendChild(c.make_options(a[d],g,b))}else e.appendChild(c.make_options(a,g,b))};void 0!==a.dataset?void 0!==c.dataset_cache[a.dataset]?
h(c.dataset_cache[a.dataset]):q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_get_select_dataset",dataset:a.dataset,nonce:themifyBuilder.tb_load_nonce,pid:themifyBuilder.post_ID},beforeSend(a){x.showLoader("show")},success(b){b.success&&(x.showLoader("hide"),c.dataset_cache[a.dataset]=b.data,h(b.data))},error(){x.showLoader("error")}}):h(a);d.appendChild(b.initControl(e,a));f.appendChild(d);void 0!==a.after&&f.appendChild(b.after(a));void 0!==a.description&&f.appendChild(b.description(a.description));
void 0!==a.tooltip&&f.appendChild(b.tooltip(a.tooltip));return f}},font_select:{loaded_fonts:[],fonts:[],safe:[],google:[],cf:[],updateFontVariant(a,b,c,d){if(b)if(d=""===d||void 0===d?void 0!==this.google[a]?"google":"cf":d,d="webfont"===d?"fonts":d,void 0===this[d][a]||void 0===this[d][a].v)b.closest(".tb_field").classList.add("_tb_hide_binding");else{var e=this[d][a].v;if(0===e.length)b.closest(".tb_field").classList.add("_tb_hide_binding");else{c=c.getStyleVal(b.id);c=void 0===c?"google"===d?
"regular":"normal":c;for(b.dataset.selected=a;null!==b.firstChild;)b.removeChild(b.firstChild);b.closest(".tb_field").classList.remove("_tb_hide_binding");for(let d=0,g=e.length;d<g;++d)a=k.createElement("option"),a.value=a.textContent=e[d],e[d]===c&&(a.selected=!0),b.appendChild(a)}}},loadGoogleFonts(a,b){a=q.unique(a.split("|"));const c={google:[],cf:[]},d=[],e=this;for(let b=a.length-1;-1<b;--b)if(a[b]&&-1===this.loaded_fonts.indexOf(a[b])&&(-1===c.google.indexOf(a[b])||-1===c.cf.indexOf(a[b]))){var f=
a[b].split(":"),g="regular"===f[1]||"normal"===f[1]||"italic"===f[1]||parseInt(f[1])?f[1]:"400,700";g=f[0].split(" ").join("+")+":"+g;-1===this.loaded_fonts.indexOf(g)&&(f=void 0!==e.cf[f[0]]?"cf":"google",g+="google"===f?":latin,latin-ext":"",c[f].push(g),d.push(g))}if("undefined"!==typeof WebFont){a=null;let f=function(){for(let a=d.length-1;-1<a;--a)-1===e.loaded_fonts.indexOf(d[a])&&e.loaded_fonts.push(d[a])};a={fontloading(a,b){f()},fontinactive(a,b){f()}};0<c.google.length&&(a.google={families:c.google},
WebFont.load(a),b&&(a.context=b,WebFont.load(a),delete a.context),delete a.google);0<c.cf.length&&(a.custom={families:c.cf,urls:[themifyBuilder.cf_api_url+c.cf.join("|")]},WebFont.load(a),b&&(a.context=b,WebFont.load(a)))}},controlChange(a,b,c,d){const e=this,f=q(a).comboSelect({comboClass:"themify-combo-select",comboArrowClass:"themify-combo-arrow",comboDropDownClass:"themify-combo-dropdown",inputClass:"themify-combo-input",disabledClass:"themify-combo-disabled",hoverClass:"themify-combo-hover",
selectedClass:"themify-combo-selected",markerClass:"themify-combo-marker"}).parent("div"),g=f[0].getElementsByClassName("themify-combo-item"),h=function(a){e.fonts.push(a);c.classList.remove("themify_show_wait")};for(let f=g.length-1;-1<f;--f)g[f].addEventListener("click",function(b){let c=this.dataset.value;l.hasChanged=!0;c&&-1===e.loaded_fonts.indexOf(c)&&(a.querySelector('option[value="'+c+'"]'),WebFont.load({classes:!1,fontloading(a,b){e.loaded_fonts.push(c)},fontinactive(a,b){e.loaded_fonts.push(c)}}));
e.updateFontVariant(c,a.closest(".tb_tab").getElementsByClassName("font-weight-select")[0],d,void 0);setTimeout(function(){v.triggerEvent(a,"change")},10)},{passive:!0}),g[f].addEventListener("mouseenter",function(){let d=this.dataset.value;if(d){var f=q(this);if(f.is(":visible")&&("default"===d&&(d="inherit"),b.style.top=f.position().top+30+"px",b.style.fontFamily=d,b.style.display="block","inherit"!==d&&!this.classList.contains("tb_font_loaded"))){this.classList.add("tb_font_loaded");if(-1===e.fonts.indexOf(d))if(c.classList.add("themify_show_wait"),
f=a.querySelector('option[value="'+d+'"]'),null===f||"webfont"!==f.dataset.type){const a={classes:!1,context:r,fontloading(a,b){h(d)},fontinactive(a,b){h(d)}};"google"===f.dataset.type?a.google={families:[d]}:"cf"===f.dataset.type&&(a.custom={families:[d],urls:[themifyBuilder.cf_api_url+d]});WebFont.load(a)}else h(d);this.classList.add("tb_font_loaded");this.style.fontFamily=d}}},{passive:!0});f.trigger("comboselect:open").on("comboselect:close",function(){b.style.display="none"});f[0].getElementsByClassName("themify-combo-arrow")[0].addEventListener("click",
function(){b.style.display="none"},{passive:!0})},update(a,b,c){a=r.document.getElementById(a);if(null!==a)if(void 0===b&&(b=""),a.value=b,this.updateFontVariant(b,a.closest(".tb_tab").getElementsByClassName("font-weight-select")[0],c),void 0===a.dataset.init){for(c=a.getElementsByTagName("optgroup");c[0].firstChild;)c[0].removeChild(c[0].firstChild);for(;c[1].firstChild;)c[1].removeChild(c[1].firstChild);a=k.createElement("option");a.value=b;a.selected=!0;void 0!==this.safe[b]?(a.textContent=this.safe[b],
c[0].appendChild(a)):void 0!==this.google[b]?(a.textContent=this.google[b].n,c[1].appendChild(a)):void 0!==this.cf[b]?(a.textContent=this.cf[b].n,c[2].appendChild(a)):(a.textContent=b,c[0].appendChild(a))}else a.parentNode.getElementsByClassName("themify-combo-input")[0].value=b},render(a,b){const c=k.createElement("div"),d=k.createElement("select"),e=k.createElement("span"),f=k.createElement("span"),g=k.createDocumentFragment();var h=k.createElement("option");const m=b.getStyleVal(a.id),l=this,n=
{safe:b.label.safe_fonts,google:b.label.google_fonts},u=1>Object.keys(this.cf).length;!1===u&&(n.cf=b.label.cf_fonts);c.className="tb_font_preview_wrapper";d.className="tb_lb_option font-family-select";d.id=a.id;e.className="tb_font_preview";f.textContent=b.label.font_preview;h.value="";h.textContent="---";g.appendChild(h);void 0!==a["class"]&&(d.className+=" "+a.class);h=["google","safe"];!1===u&&h.push("cf");for(let a=h.length-1;-1<a;--a){let b=k.createElement("optgroup");b.label=n[h[a]];if(void 0!==
m){let c=k.createElement("option");c.value=m;c.selected=!0;c.textContent="cf"===h[a]&&void 0!==this.cf[m]?this.cf[m].n:"safe"===h[a]&&void 0!==this.safe[m]?this.safe[m]:"google"===h[a]&&void 0!==this.google[m]?this.google[m].n:void 0!==this.cf[m]?this.cf[m].n:m;b.appendChild(c)}g.appendChild(b)}c.addEventListener("focusin",function(){var a=l.safe,c=k.createDocumentFragment();const g=d.getElementsByTagName("optgroup");d.dataset.init=!0;if(void 0!==m)for(var h=g.length-1;-1<h;--h)for(;g[h].firstChild;)g[h].removeChild(g[h].firstChild);
for(var p in a)h=k.createElement("option"),h.value=p,h.textContent=a[p],h.dataset.type="webfont",m===p&&(h.selected=!0),c.appendChild(h);g[u?0:1].appendChild(c);a=["google"];!1===u&&a.unshift("cf");for(c=a.length-1;-1<c;--c){p=l[a[c]];h=k.createDocumentFragment();for(let b in p){let d=k.createElement("option");d.value=b;d.dataset.type=a[c];d.textContent=p[b].n;m===b&&(d.selected=!0);h.appendChild(d)}g["cf"===a[c]?0:u?1:2].appendChild(h)}l.controlChange(d,e,f,b)},{once:!0,passive:!0});d.appendChild(g);
e.appendChild(f);c.appendChild(b.initControl(d,a));c.appendChild(e);b.afterRun.push(function(){const d=b.create([{type:"select",label:"f_w",selector:a.selector,class:"font-weight-select",id:a.id+"_w",prop:"font-weight"}]),e=c.closest(".tb_field"),f=d.querySelector(".tb_field");e.parentNode.insertBefore(d,e.nextElementSibling);l.updateFontVariant(m,f.querySelector(".font-weight-select"),b)});return c}},animation_select:{render(a,b){const c=k.createElement("div"),d=b.static.preset_animation,e=k.createElement("select");
b=b.values[a.id];c.className="selectwrapper";e.className="tb_lb_option";e.id=a.id;e.appendChild(k.createElement("option"));for(let c in d){a=k.createElement("optgroup");a.label=c;for(let e in d[c]){let f=k.createElement("option");f.value=e;f.text=d[c][e];b===e&&(f.selected=!0);a.appendChild(f)}e.appendChild(a)}c.appendChild(e);return c}},select_menu:{data:null,get(a,b){const c=this,d=function(){for(let d in c.data){let e=k.createElement("option");e.value=c.data[d].slug;e.text=c.data[d].name;e.dataset.termid=
c.data[d].term_id;b===c.data[d].slug&&(e.selected=!0);a.appendChild(e)}};null===c.data?q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_get_menu",tb_load_nonce:themifyBuilder.tb_load_nonce},success(a){c.data=a;d()}}):d()},render(a,b){const c=k.createDocumentFragment(),d=k.createElement("div"),e=k.createElement("select"),f=k.createElement("small"),g=k.createElement("option"),h=b.values[a.id];d.className="selectwrapper";e.className="select_menu_field";!0===b.is_repeat?
(e.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",e.dataset.inputId=a.id):(e.className+=" tb_lb_option",e.id=a.id);void 0!==a["class"]&&(e.className+=" "+a.class);f.innerHTML=b.label.menu_help;g.value="";g.text=b.label.select_menu;this.get(e,h);d.appendChild(b.initControl(e,a));c.appendChild(g);c.appendChild(d);c.appendChild(k.createElement("br"));c.appendChild(f);return c}},sticky:{render(a,b){const c={},d=l.activeModel.get("element_id"),e=q.extend(!0,{},a);a=l.Utils.getUIDList(a.key);
for(let b=0,e=a.length;b<e;++b)if(a[b].element_id!==d){let d="row"===a[b].elType?"Row #"+a[b].element_id:a[b].mod_name+" #"+a[b].element_id;"row"===a[b].elType&&a[b].styling&&a[b].styling.custom_css_id?d="#"+a[b].styling.custom_css_id:"module"===a[b].elType&&a[b].mod_settings&&a[b].mod_settings.custom_css_id&&(d="#"+a[b].mod_settings.custom_css_id);c[a[b].element_id]=d}e.options=c;return b.select.render(e,b)}},selectSearch:{update(a,b,c,d){d=k.createDocumentFragment();let e=null;b.removeAttribute("data-value");
b.value="";if(void 0!==c){for(let f in c){let g=k.createElement("div");null===e&&(e=f);g.dataset.value=f;g.className="tb_search_item";g.textContent=c[f];a===f&&(g.className+=" selected",b.setAttribute("data-value",f),b.value=c[f]);d.appendChild(g)}""===b.value&&null!==e&&(b.value=c[e],b.setAttribute("data-value",e))}return d},events(a,b){a.addEventListener("keyup",function(a){a=b.getElementsByClassName("tb_search_item");const c=this.value.trim(),e=new RegExp(c,"i");for(let b=0,d=a.length;b<d;++b)""===
c||e.test(a[b].textContent)?a[b].style.display="block":a[b].style.display="none"},{passive:!0});b.addEventListener("mousedown",function(b){if(1===b.which&&b.target.classList.contains("tb_search_item")){b.preventDefault();b.stopPropagation();var c=this.getElementsByClassName("tb_search_item");b=b.target;for(let a=c.length-1;-1<a;--a)c[a].classList.remove("selected");b.classList.add("selected");c=b.dataset.value;a.value=b.textContent;a.dataset.value=c;a.blur();a.previousElementSibling.blur();v.triggerEvent(a,
"selectElement",{val:c})}})},render(a,b){const c=k.createElement("div"),d=k.createElement("div"),e=k.createElement("input"),f=k.createElement("span"),g=k.createElement("div");c.className="tb_search_wrapper";e.className="tb_search_input";e.autocomplete="off";g.className="tb_search_container tf_scrollbar";!0===b.is_repeat?(e.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",e.dataset.inputId=a.id):(e.className+=" tb_lb_option",e.id=a.id);void 0!==a["class"]&&(e.className+=" "+a["class"]);
f.className="tf_loader";g.tabIndex=1;d.tabIndex=1;d.className="tb_search_arrow";e.type="text";e.placeholder=(void 0!==a.placeholder?a.placeholder:a.label)+"...";g.appendChild(this.update(b.values[a.id],e,a.options,b));d.appendChild(f);c.appendChild(d);c.appendChild(b.initControl(e,a));c.appendChild(g);void 0!==a.after&&c.appendChild(b.after(a));void 0!==a.description&&c.appendChild(b.description(a.description));void 0!==a.tooltip&&c.appendChild(b.tooltip(a.tooltip));this.events(e,g);return c}},optin_provider:{cache:null,
render(a,b){const c=k.createElement("div"),d=this;null===this.cache?(x.showLoader("show"),q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_optin_get_settings",tb_load_nonce:themifyBuilder.tb_load_nonce},success:function(a){x.showLoader("spinhide");d.cache=a;c.appendChild(b.create(d.cache));b.callbacks()},error(){x.showLoader("error")}})):c.appendChild(b.create(d.cache));return c}},check_map_api:{render(a,b){return themifyBuilder[a.map+"_api"]?k.createElement("span"):
b.separator.render({type:"separator",html:"<span>"+themifyBuilder[a.map+"_api_err"]+"</span>",wrap_class:"tb_group_element_"+a.map},b)}},query_posts:{cacheTypes:null,cacheTerms:[],render(a,b){let c;const d=this,e=a.description,f=a.after,g=b.values,h=function(a){const b=[];for(let c in a)b[c]=a[c].name;return b},m=function(a,c,d){const e=a.nextElementSibling;for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(b.selectSearch.update(c,a,d,b))},p=function(b,c,d){b.classList.add("tb_search_wait");
return q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_get_post_types",tb_load_nonce:themifyBuilder.tb_load_nonce,type:d,v:c,exclude:a.exclude,all:a.all,just_current:a.just_current,id:themifyBuilder.post_ID},complete(){b.classList.remove("tb_search_wait")}})};(function(){let n=q.extend(!0,{},a),u=null;c=k.createElement("div");c.id=a.id?a.id:a.term_id;b.afterRun.push(function(){let t=["id","tax_id","term_id","tag_id"],q=k.createDocumentFragment(),y=null,r=function(c,
h){const n=function(){if(void 0!==a.term_id||void 0!==a.tag_id){var p=void 0===a.tag_id?a.term_id.replace("#tmp_id#",h):a.tag_id,n=c.closest(".tb_input"),t;c.id=p;null===y&&void 0!==g[p]&&(t=g[p].split("|")[0]);t||(t=0);m(c,t,d.cacheTerms[h]);if(null===y){p=k.createElement("input");var q=k.createElement("span"),w=k.createElement("div");q.innerHTML=b.label.or;p.type="text";p.className="query_category_multiple";w.className="tb_query_multiple_wrap";w.appendChild(q);w.appendChild(p);n.insertBefore(w,
n.nextSibling);void 0!==f&&n.appendChild(b.after(f));void 0!==e&&n.appendChild(b.description(e));if(void 0!==a.slug_id){q=n.parentNode;w=b.create([{type:"radio",id:"term_type",label:b.label.query_by,default:void 0===g.term_type&&"post_slug"===g[a.tax_id]?"post_slug":"category",option_js:!0,options:[{value:"all",name:b.label.all_posts},{value:"category",name:b.label.query_term_id},{value:"post_slug",name:b.label.slug_label}]}]);const c=b.create([{id:a.slug_id,type:"text","class":"large",wrap_class:"tb_group_element_post_slug",
help:b.label.slug_desc,label:b.label.slug_label}]);q.parentNode.insertBefore(w,q);q.parentNode.appendChild(c)}void 0!==a.sticky_id&&(q=b.create([{type:"toggle_switch",label:b.label.sticky_first,id:a.sticky_id,options:"simple",wrap_class:"tb_group_element_all"}]),n.parentNode.parentNode.appendChild(q));p.addEventListener("change",function(a){v.triggerEvent(c,"queryPosts",{val:t})},{passive:!0});null!==u&&clearTimeout(u);u=setTimeout(function(){b.callbacks()},2)}n.getElementsByClassName("query_category_multiple")[0].value=
t;!0===y||b.is_new?v.triggerEvent(c,"queryPosts",{val:t}):ThemifyConstructor.settings=l.Utils.clear(l.Forms.serialize("tb_options_setting"));y=!0}};void 0===d.cacheTerms[h]?p(c.parentNode,h,"terms").done(function(a){d.cacheTerms[h]=a;n()}):n()};for(let c=0,e=t.length;c<e;++c){if(!n[t[c]])continue;n.id=n[t[c]];n.label=b.label["query_"+t[c]];n.type="selectSearch";"term_id"===t[c]?(n.wrap_class="tb_search_term_wrap tb_group_element_category",n.class="query_category_single",n.help=b.label.query_desc,
n.control={control_type:"queryPosts"}):"tax_id"!==t[c]&&"tag_id"!==t[c]||void 0!==n.term_id||(n.control={control_type:"queryPosts"});delete n.description;delete n.after;let e=b.create([n]);!0===a.just_current&&delete n.wrap_class;(function(){let b="id"===t[c],f="term_id"===t[c]||"tag_id"===t[c],k=f?"":g[n.id],l=e.querySelector(".tb_search_input");l.addEventListener("selectElement",function(c){c=c.detail.val;let e=this.closest(".tb_field");f?(e.getElementsByClassName("query_category_multiple")[0].value=
c,v.triggerEvent(this,"queryPosts",{val:c})):null!==e.nextElementSibling?(e=e.nextElementSibling,b||!0!==y||void 0===a.slug_id||(e=e.nextElementSibling),null!==e&&(e=e.getElementsByClassName("tb_search_input")[0],b?void 0!==d.cacheTypes[c]&&(!0===a.just_current&&"tag"===g[a.tax_id]&&(g[a.tax_id]="post_tag"),m(e,g[a.tax_id],h(d.cacheTypes[c].options)),v.triggerEvent(e,"selectElement",{val:e.getAttribute("data-value")})):r(e,c))):b||v.triggerEvent(this,"queryPosts",{val:this.getAttribute("data-value")})},
{passive:!0});if(b){const b=function(){k||(k="post");m(l,k,h(d.cacheTypes));v.triggerEvent(l,"selectElement",{val:k});l=null};null===d.cacheTypes?p(l.parentNode,null,"post_types").done(function(c){d.cacheTypes=c;!0===a.just_current&&void 0==k&&(k=Object.keys(c));b()}):setTimeout(b,10)}else f&&!a.id&&void 0!==a.taxonomy&&r(l,a.taxonomy)})();q.appendChild(e)}c.parentNode.replaceChild(q,c);n=c=null})})();return c}},position_box:{w:null,h:null,update(a,b,c){c=x.Lightbox.$lightbox[0].querySelector("#"+
a);null===c&&(c=x.Lightbox.$lightbox[0].querySelector('[data-input-id="'+a+'"]'));if(null!==c){var d=c.closest(".tb_position_box_wrapper");a=d.getElementsByClassName("tb_position_box_handle")[0];d=d.getElementsByClassName("tb_position_box_label")[0];const e=this.getPreDefinedPositions();b?void 0!==e[b]&&(b=e[b]):b="50,50";c.value=b;d.textContent=this.getLabel(b);b=b.split(",");a.style.left=Math.ceil(b[0]*this.w/100)+"px";a.style.top=Math.ceil(b[1]*this.h/100)+"px"}},getLabel(a){switch(a){case "0,0":a=
"Top Left";break;case "50,0":a="Top Center";break;case "100,0":a="Top Right";break;case "0,50":a="Center Left";break;case "50,50":a="Center Center";break;case "100,50":a="Center Right";break;case "0,100":a="Bottom Left";break;case "50,100":a="Bottom Center";break;case "100,100":a="Bottom Right";break;default:a=a.split(","),a=""===a[0]?"Center Center":"X:"+a[0]+"% Y:"+a[1]+"%"}return a},getPreDefinedPositions(){return{"right-top":"100,0","right-center":"100,50","right-bottom":"100,100","left-top":"0,0",
"left-center":"0,50","left-bottom":"0,100","center-top":"50,0","center-center":"50,50","center-bottom":"50,100"}},click(a){a.preventDefault();a.stopPropagation();let b,c=a.currentTarget.previousElementSibling;a.target.classList.contains("tb_position_item")?(a=a.target.getAttribute("data-pos").split(","),b=a[0],a=a[1],"50"===b?b=this.w/2:"100"===b&&(b=this.w),"50"===a?a=this.h/2:"100"===a&&(a=this.h)):(b=a.offsetX,a=a.offsetY);c.style.left=b+"px";c.style.top=a+"px";this.changeUpdate(c,b,a)},changeUpdate(a,
b,c){b=+(b/this.w*100).toFixed(2);c=+(c/this.h*100).toFixed(2);a=a.closest(".tb_position_box_wrapper").getElementsByClassName("tb_position_box_label")[0];const d=a.nextElementSibling;d.value=b+","+c;a.textContent=this.getLabel(b+","+c);v.triggerEvent(d,"change")},render:function(a,b){const c=this,d=this.getPreDefinedPositions(),e=b.getStyleVal(a.id),f=k.createElement("div"),g=k.createElement("div"),h=k.createElement("div"),m=k.createElement("div"),l=k.createElement("div"),n=b.hidden.render(a,b);f.className=
"tb_position_box_wrapper";g.className="tb_position_box_container";h.className="tb_position_box";m.className="tb_position_box_handle";l.className="tb_position_box_label";for(let a in d){let b=k.createElement("div"),c=k.createElement("span"),e=k.createElement("span"),f=d[a].split(",");c.className="themify_tooltip";e.textContent=a.replace("-"," ");b.className="tb_position_item";b.setAttribute("data-pos",d[a]);b.style.left=f[0]+"%";b.style.top=f[1]+"%";c.appendChild(e);b.appendChild(c);h.appendChild(b)}h.addEventListener("click",
this.click.bind(this));g.appendChild(m);g.appendChild(h);f.appendChild(g);void 0!==a.after&&f.appendChild(b.after(a));f.appendChild(l);f.appendChild(n);const u=function(d){const f=q(h);c.w=f.outerWidth();c.h=f.outerHeight();c.update(a.id,e,b);let g=null;r.jQuery.fn.draggable.call(q(d),{containment:"parent",scroll:!1,drag(a,b){null!==g&&clearTimeout(g);g=setTimeout(function(){c.changeUpdate(b.helper[0],b.position.left,b.position.top);clearTimeout(g);g=null},10)},stop(a,b){c.changeUpdate(b.helper[0],
b.position.left,b.position.top);null!==g&&(clearTimeout(g),g=null)}})};void 0===r.jQuery.fn.draggable?b.afterRun.push(function(a){r.Themify.LoadAsync(themifyBuilder.includes_url+"js/jquery/ui/draggable.min.js",function(a){u(a)}.bind(null,a),themify_vars.version,null,function(){return void 0!==r.jQuery.fn.draggable})}.bind(null,m)):b.afterRun.push(function(a){u(a)}.bind(null,m));return f}},slider_range:{render:function(a,b){const c=k.createElement("div"),d=k.createElement("div"),e=b.hidden.render(a,
b);let f=0,g=100,h="%",m=!0,l=1;void 0!==a.options&&(void 0!==a.options.min&&(f=a.options.min),void 0!==a.options.max&&(g=a.options.max),void 0!==a.options.unit&&(h=a.options.unit),void 0!==a.options.range&&(m=!1),void 0!==a.options["default"]&&(l=a.options["default"]));e.setAttribute("data-min",f);e.setAttribute("data-max",g);e.setAttribute("data-unit",h);f=g=h=null;c.className="tb_slider_wrapper input-range";d.className="range-slider";void 0!==a.wrap_class&&(c.className=" "+a.wrap_class);c.appendChild(d);
c.appendChild(e);const n=function(a){const b=k.createElement("span"),c=k.createElement("span");var d=parseFloat(e.getAttribute("data-min"));const f=parseFloat(e.getAttribute("data-max")),g=e.getAttribute("data-unit");let h=e.value;h=m?h?h.split(","):[d,f]:h?h:l;b.className="tb_slider_label_l";c.className="tb_slider_label_u";d={range:m,min:d,max:f,slide:function(a,d){m?(b.textContent=d.values[0]+g,c.textContent=d.values[1]+g):b.textContent=d.value+g},create(a,d){a=this.getElementsByClassName("ui-slider-handle");
m?(b.textContent=h[0]+g,a[0].appendChild(b),c.textContent=h[1]+g,a[1].appendChild(c)):(b.textContent=h+g,a[0].appendChild(b));h=null},change:function(a,b){e.value=m?b.values[0]+","+b.values[1]:b.value}};m?d.values=h:d.value=h;r.jQuery.fn.slider.call(q(a),d)};void 0===r.jQuery.fn.slider?b.afterRun.push(function(a){r.Themify.LoadAsync(themifyBuilder.includes_url+"js/jquery/ui/slider.min.js",function(a){n(a)}.bind(null,a),themify_vars.version,null,function(){return void 0!==r.jQuery.fn.slider})}.bind(null,
d)):b.afterRun.push(function(a){n(a)}.bind(null,d));return c}},range:{update(a,b,c){const d=x.Lightbox.$lightbox[0].querySelector("#"+a);null!==d&&(d.value=void 0!==b?b:"",b=a+"_unit",a=r.document.getElementById(b),null!==a&&"SELECT"===a.tagName&&(c=c.getStyleVal(b),void 0===c&&(c=a[0].value),a.value=c,this.setData(d,-1!==a.selectedIndex?a[a.selectedIndex]:a[0])))},setData(a,b){const c=b.getAttribute("data-min"),d=b.getAttribute("data-max");b=b.getAttribute("data-increment");let e=parseFloat(a.value.trim());
if(e>parseFloat(d)||e<parseFloat(c))e=e>parseFloat(d)?d:c,a.value=0!==b%1?parseFloat(e).toFixed(1):parseInt(e);a.setAttribute("min",c);a.setAttribute("max",d);a.setAttribute("step",b)},controlChange(a,b,c){function d(b){let c=a.getAttribute("step");if(c){var d=0!==c%1,e=parseFloat(a.getAttribute("max")),f=parseFloat(a.getAttribute("min")),g=a.value;g=d?parseFloat(g||0):parseInt(g||0);c=d?parseFloat(c):parseInt(c);a.value=+("increase"===b?g>=e?e:g+c:g<=f?f:g-c).toFixed(2)}}const e=void 0!==b&&"SELECT"===
b.tagName,f=this;a.addEventListener("mousedown",function(b){if(1===b.which){let e=b.pageY,f=this,g=a.value,k=function(a){a.pageY<e?d("increase"):a.pageY>e&&d("decrease");e=a.pageY;v.triggerEvent(f,c)};r.document.body.classList.add("tb_panel_resize");r.document.addEventListener("mousemove",k,{passive:!0});r.document.addEventListener("mouseup",function t(){r.document.removeEventListener("mousemove",k,{passive:!0});a.value!==g&&v.triggerEvent(f,c);l.hasChanged=!0;r.document.removeEventListener("mouseup",
t,{once:!0,passive:!0});r.document.body.classList.remove("tb_panel_resize")},{once:!0,passive:!0})}},{passive:!0});!0===e&&b.addEventListener("change",function(d){f.setData(a,b.options[b.selectedIndex]);v.triggerEvent(a,c)},{passive:!0});void 0!==b&&f.setData(a,e?-1!==b.selectedIndex?b[b.selectedIndex]:b[0]:b)},render(a,b){const c=k.createElement("div");var d=k.createElement("span");const e=k.createElement("input");var f=parseFloat(b.getStyleVal(a.id));c.className="tb_tooltip_container";void 0!==
a.wrap_class&&(c.className=" "+a.wrap_class);d.className="tb_range_input";e.autocomplete="off";e.type="number";e.className="tb_range";void 0!==f&&(e.value=f);!0===b.is_repeat?(e.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",e.dataset.inputId=a.id):(e.className+=" tb_lb_option",e.id=a.id);void 0!==a.class&&(e.className+=" "+a.class);d.appendChild(e);void 0!==a.tooltip&&d.appendChild(b.tooltip(a.tooltip));c.appendChild(d);if(void 0===a.units)e.min=0,e.max=1500,e.step=1;else{d=
k.createElement("div");var g=Object.keys(a.units);d.className="selectwrapper noborder";if(1<g.length){f=b.getStyleVal(a.id+"_unit");const c=a.id+"_unit";g=k.createElement("select");g.className="tb_unit";!0===b.is_repeat?(g.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",g.dataset.inputId=c):(g.className+=" tb_lb_option",g.id=c);void 0!==a.select_class&&(g.className+=" "+a.select_class);for(var h in a.units){let b=k.createElement("option");e.setAttribute("min",parseInt(a.units[h].min));
e.setAttribute("max",parseInt(a.units[h].max));b.value=h;b.textContent=h;b.dataset.min=a.units[h].min;b.dataset.max=a.units[h].max;b.dataset.increment=void 0!==a.units[h].increment?a.units[h].increment:"em"===h||"em"===h?.1:1;f===h&&(b.selected=!0);g.appendChild(b)}b.initControl(g,{type:"select",id:c,control:a.control})}else h=g[0],e.setAttribute("min",parseFloat(a.units[h].min)),e.setAttribute("max",parseFloat(a.units[h].max)),e.setAttribute("step",void 0!==a.units[h].increment?parseFloat(a.units[h].increment):
"1"),f<parseFloat(a.units[h].min)?e.value=a.units[h].min:f>parseFloat(a.units[h].max)&&(e.value=a.units[h].max),g=k.createElement("span"),g.className="tb_unit",g.id=a.id+"_unit",g.dataset.min=a.units[h].min,g.dataset.max=a.units[h].max,g.dataset.increment=void 0!==a.units[h].increment?a.units[h].increment:"em"===h||"em"===h?.1:1,g.textContent=h;d.appendChild(g);c.appendChild(d)}void 0!==a.after&&c.appendChild(b.after(a.after));void 0!==a.description&&c.appendChild(b.description(a.description));d=
"styling"===b.clicked?"keyup":"change";!0===a.opposite&&g.addEventListener("change",function(a){a.stopPropagation();b.margin.changeUnit(this)},{passive:!0});this.controlChange(e,g,d);g=q.extend({},a);!0===a.opposite&&e.addEventListener(d,function(a){a.stopPropagation();b.margin.changeOppositive(this)},{passive:!0});g.type="range";b.initControl(e,g);return c}},icon:{render(a,b){const c=k.createElement("div"),d=k.createElement("input"),e=k.createElement("span"),f=k.createElement("span"),g=b.getStyleVal(a.id);
d.type="text";d.className="themify_field_icon";e.className="tf_plus_icon themify_fa_toggle";c.className="tb_icon_wrap";f.className="tb_clear_input tf_close";!0===b.is_repeat?(d.className+=!0===b.is_sort?" tb_lb_sort_child":" tb_lb_option_child",d.dataset.inputId=a.id):(d.className+=" tb_lb_option",d.id=a.id);void 0!==a.class&&(d.className+=" "+a.class);void 0!==g?(d.value=g,e.appendChild(l.Utils.getIcon(g)),b.afterRun.push(function(){setTimeout(function(){r.Themify.fontAwesome(g)},100)})):e.className+=
" default_icon";c.appendChild(b.initControl(d,a));c.appendChild(e);c.appendChild(f);return c}},createMarginPadding(a,b){const c=void 0!==b.options?b.options:[{id:"top",label:this.label.top},{id:"right",label:this.label.right},{id:"bottom",label:this.label.bottom},{id:"left",label:this.label.left}],d=k.createElement("ul"),e=this,f=b.id,g="border_radius"===a,h=q.extend(!0,{},b);h.units={px:{min:"margin"===a?-1500:0,max:1500},em:{min:"margin"===a?-10:0,max:10},"%":{min:"margin"===a?-100:0,max:100}};
h.prop=null;h.opposite=!0;d.className="tb_seperate_items tf_inline_b tb_has_opposite";!0===g&&d.setAttribute("data-toptext",c[0].label);a=c.length;let m=k.createDocumentFragment();for(let d=0;d<a;++d){var p=k.createElement("li");let a=f+"_"+c[d].id;h.id=a;h.tooltip=c[d].label;h.class=void 0===b["class"]?"":b["class"];h.class+=" tb_multi_field tb_range_"+c[d].id;!0===g&&(h.class+=" tb_is_border_radius");let l=this.range.render(h,this);if(0!==d&&2!==d){let a=k.createElement("li");var n="right"===c[d].id?
"top":c[d].id;a.className="tb_seperate_opposite tb_opposite_"+("bottom"===n?"top":n);a.appendChild(this.checkboxGenerate("checkbox",{id:f+"_opp_"+n,"class":"style_apply_oppositive",options:[{name:"1",value:""}],new_line:!1}));n=a.querySelector(".style_apply_oppositive");let b=k.createElement("div");b.className="tb_oppositive_state";n.parentNode.insertBefore(b,n.nextSibling);n.addEventListener("change",function(a){a.stopPropagation();e.margin.bindingOppositive(this,!0)},{passive:!0});!0===n.checked&&
e.afterRun.push(function(){e.margin.bindingOppositive(this)}.bind(n));m.appendChild(a)}p.appendChild(l);m.appendChild(p);!0===g?(p="border-","top"===c[d].id?p+="top-left-radius":"right"===c[d].id?p+="top-right-radius":"left"===c[d].id?p+="bottom-left-radius":"bottom"===c[d].id&&(p+="bottom-right-radius")):p=b.prop+"-"+c[d].id;this.styles[a]={prop:p,selector:b.selector}}d.appendChild(m);m=k.createDocumentFragment();m.appendChild(d);if(4===a){m.appendChild(e.checkboxGenerate("icon_checkbox",{id:"checkbox_"+
f+"_apply_all","class":"style_apply_all",options:[{name:"1",value:e.label.all,icon:'<span class="apply_all_checkbox_icon">'+l.Utils.getIcon("ti-link").outerHTML+"</span>"}],"default":"module"===this.component&&!0===this.is_new||0===Object.keys(this.values).length?"1":!1,new_line:!1}));const a=m.querySelector(".style_apply_all");a.addEventListener("change",function(a){e.margin.apply_all(this,!0)},{passive:!0});!0===a.checked&&e.afterRun.push(function(){e.margin.apply_all(a)})}return m},margin_opposity:{update(a,
b,c){c.range.update(a,b,c);c.checkbox.update(a+"_opp_top",c.getStyleVal(a+"_opp_top"),c);c.range.update(c.stylesData[a].bottomId,c.getStyleVal(c.stylesData[a].bottomId),c)},render(a,b){const c=["topId","bottomId"],d=k.createElement("ul"),e=q.extend(!0,{},a);d.className="tb_seperate_items tf_inline_b tb_has_opposite";for(let g=0;2>g;++g){var f=k.createElement("li");e.id=a[c[g]];e.prop="topId"===c[g]?"margin-top":"margin-bottom";e.class="tb_multi_field tb_range_"+("topId"===c[g]?"top":"bottom");e.opposite=
!0;e.tooltip="topId"===c[g]?b.label.top:b.label.bottom;f.appendChild(b.range.render(e,b));d.appendChild(f);if(0===g){f=k.createElement("li");f.className="tb_seperate_opposite tb_opposite_top";f.appendChild(b.checkboxGenerate("checkbox",{id:e.id+"_opp_top","class":"style_apply_oppositive",options:[{name:"1",value:""}],new_line:!1}));let a=f.querySelector(".style_apply_oppositive"),c=k.createElement("div");c.className="tb_oppositive_state";a.parentNode.insertBefore(c,a.nextSibling);a.addEventListener("change",
function(a){a.stopPropagation();b.margin.bindingOppositive(this,!0)},{passive:!0});d.appendChild(f)}b.stylesData[a[c[g]]]=b.styles[a[c[g]]]={id:a[c[g]],prop:"topId"===c[g]?"margin-top":"margin-bottom",selector:a.selector}}return d}},margin:{bindingOppositive(a,b){var c=a.closest(".tb_seperate_opposite"),d=c.parentNode;c=!0===c.classList.contains("tb_opposite_left")?c.nextElementSibling:c.previousElementSibling;var e=!0===a.checked;a=this.getOppositiveDir(c.getElementsByClassName("tb_range")[0]);d=
d.getElementsByClassName("tb_range_"+a)[0];a=d.closest("li").getElementsByClassName("tb_unit")[0];if(!0===e){if(d.setAttribute("data-v",d.value),a.setAttribute("data-u",a.value),!0===b){e=c.getElementsByClassName("tb_range")[0];const b=e.value,g=d.value;""!==b||""===g?(d.value=b,a.value=c.getElementsByClassName("tb_unit")[0].value):(e.value=g,c.getElementsByClassName("tb_unit")[0].value=a.value)}}else c=d.getAttribute("data-v"),d.value=void 0===c||null===c?"":c,a.value=a.getAttribute("data-u");!0===
b&&v.triggerEvent(d,"keyup")},changeUnit(a){const b=a.closest(".tb_has_opposite");if(!b.hasAttribute("data-checked")){var c=r.document.getElementById(a.getAttribute("id").replace(/_unit$/ig,""));const d=this.getOppositiveDir(c);c=c.classList.contains("tb_is_border_radius");!0===b.getElementsByClassName("tb_opposite_"+("top"===d||!0===c&&"right"===d||!1===c&&"bottom"===d?"top":"left"))[0].getElementsByClassName("style_apply_oppositive")[0].checked&&(b.getElementsByClassName("tb_range_"+d)[0].closest("li").getElementsByClassName("tb_unit")[0].value=
a.value)}},getOppositiveDir(a){a=a.classList;let b=a.contains("tb_range_top")?"bottom":a.contains("tb_range_bottom")?"top":a.contains("tb_range_left")?"right":"left";a.contains("tb_is_border_radius")&&(b="bottom"===b?"right":"top"===b?"left":"left"===b?"top":"bottom");return b},changeOppositive(a){const b=a.closest("li").parentNode;if(!b.hasAttribute("data-checked")){const c=this.getOppositiveDir(a),d=a.classList.contains("tb_is_border_radius");!0===("top"===c||!0===d&&"right"===c||!1===d&&"bottom"===
c?b.getElementsByClassName("tb_opposite_top")[0]:b.getElementsByClassName("tb_opposite_left")[0]).getElementsByClassName("style_apply_oppositive")[0].checked&&(b.getElementsByClassName("tb_range_"+c)[0].value=a.value)}},apply_all(a,b){const c=a.closest(".tb_input").getElementsByClassName("tb_seperate_items")[0],d=c.getElementsByTagName("li")[0];!0===a.checked===!0?(c.setAttribute("data-checked",1),a=ThemifyConstructor.label.all):(c.removeAttribute("data-checked"),a=c.getAttribute("data-toptext"),
a||(a=ThemifyConstructor.label.top));!0===b&&v.triggerEvent(d.getElementsByClassName("tb_multi_field")[0],"keyup");d.getElementsByClassName("tb_tooltip_up")[0].textContent=a},update(a,b,c){b=["top","right","bottom","left"];const d="checkbox_"+a+"_apply_all",e=r.document.getElementById(d).getElementsByClassName("style_apply_all")[0];for(let d=3;-1<d;--d){var f=a+"_"+b[d];if(null!==r.document.getElementById(f)&&(c.range.update(f,c.getStyleVal(f),c),!0!==e.checked)){f=a+"_opp_"+b[d];let e=r.document.getElementById(f);
null!==e&&(e.getElementsByClassName("style_apply_oppositive")[0].checked=c.getStyleVal(f)?!0:!1)}}c.checkbox.update(d,c.getStyleVal(d),c);this.apply_all(e)},render(a,b){return b.createMarginPadding(a.type,a)}},padding:{render(a,b){return b.createMarginPadding(a.type,a)}},box_shadow:{update(a,b,c){b=["hOffset","vOffset","blur","spread"];const d=a+"_color",e=a+"_inset";for(let d=3;-1<d;--d){let e=a+"_"+b[d];null!==r.document.getElementById(e)&&c.range.update(e,c.getStyleVal(e),c)}c.color.update(d,c.getStyleVal(d),
c);c.checkbox.update(e,c.getStyleVal(e),c)},render(a,b){var c={hOffset:{label:b.label.h_o,units:{px:{min:-200,max:200},em:{min:0,max:10}}},vOffset:{label:b.label.v_o,units:{px:{min:-200,max:200},em:{min:0,max:10}}},blur:{label:b.label.bl,units:{px:{min:0,max:300},em:{min:0,max:10}}},spread:{label:b.label.spr,units:{px:{min:-200,max:200},em:{min:0,max:10}}}};const d=k.createElement("ul");var e=a.id;const f=q.extend(!0,{},a);f["class"]="tb_shadow_field";f.prop=null;d.className="tb_seperate_items tf_inline_b tb_shadow_inputs";
for(var g in c)if(void 0!==c[g]){var h=c[g];let m=k.createElement("li"),l=e+"_"+g;f.id=l;f.tooltip=h.label;f.units=h.units;f.selector=a.selector;m.appendChild(b.range.render(f,b));d.appendChild(m);b.styles[l]={prop:a.prop,selector:a.selector}}c=e+"_color";g=k.createElement("li");h={id:c,type:"color",class:f["class"],selector:a.selector};g.className="tb_shadow_color";b.styles[c]={prop:a.prop,selector:a.selector,type:"color"};g.appendChild(b.color.render(h,b));d.appendChild(g);c=e+"_inset";g=k.createElement("li");
e=b.checkboxGenerate("checkbox",{id:c,origID:e,type:"checkbox",class:f["class"],isBoxShadow:!0,prop:a.prop,options:[{value:b.label.in_sh,name:"inset"}]});b.styles[c]={prop:a.prop,selector:a.selector};g.className="tb_box_shadow_inset";g.appendChild(e);d.appendChild(g);return d}},text_shadow:{update(a,b,c){b=[c.label.h_sh,c.label.v_sh,c.label.bl];const d=a+"_color";for(let d=2;-1<d;--d){let e=a+"_"+b[d];null!==r.document.getElementById(e)&&c.range.update(e,c.getStyleVal(e),c)}c.color.update(d,c.getStyleVal(d),
c)},render(a,b){var c={hShadow:{label:b.label.h_sh,units:{px:{min:-200,max:200},em:{min:0,max:10}}},vShadow:{label:b.label.v_sh,units:{px:{min:-200,max:200},em:{min:0,max:10}}},blur:{label:b.label.bl,units:{px:{min:0,max:300},em:{min:0,max:10}}}};const d=k.createElement("ul");var e=a.id,f=q.extend(!0,{},a);f["class"]="tb_shadow_field";f.prop=null;d.className="tb_seperate_items tf_inline_b tb_shadow_inputs";for(let g in c){if(!c.hasOwnProperty(g))continue;let h=c[g],m=k.createElement("li"),l=e+"_"+
g;f.id=l;f.tooltip=h.label;f.units=h.units;m.appendChild(b.range.render(f,b));d.appendChild(m);b.styles[l]={prop:a.prop,selector:a.selector}}c=k.createElement("li");e+="_color";f={id:e,type:"color",class:f["class"],selector:a.selector};c.className="tb_shadow_color";b.styles[e]={prop:a.prop,selector:a.selector,type:"color"};c.appendChild(b.color.render(f,b));d.appendChild(c);return d}},border_radius:{render(a,b){a.options=b.getOptions(a);return b.createMarginPadding(a.type,a)}},border:{changeControl(a){const b=
a.parentNode;a=a.value;const c=b.parentNode.children;for(let d=c.length-1;-1<d;--d)c[d]!==b&&("none"===a?c[d].classList.add("_tb_hide_binding"):c[d].classList.remove("_tb_hide_binding"))},apply_all(a,b){const c=b.getElementsByTagName("input"),d=function(b,d){for(let a=c.length-1;0<a;--a){let d=c[a].parentNode;!0===b?d.classList.add("_tb_disable"):d.classList.remove("_tb_disable")}!0===b?a.dataset.checked=1:a.removeAttribute("data-checked");!0===d&&v.triggerEvent(a.children[0].getElementsByTagName("select")[0],
"change")};for(b=c.length-1;-1<b;--b)c[b].addEventListener("change",function(){d("all"===this.value,!0)},{passive:!0}),!0===c[b].checked&&"all"===c[b].value&&d(!0,null)},update(a,b,c){b=["top","right","bottom","left"];const d=a+"-type";for(let d=0;4>d;++d){var e=a+"_"+b[d];let f=e+"_color",h=e+"_style";e+="_width";c.color.update(f,c.getStyleVal(f),c);c.select.update(h,c.getStyleVal(h),c);this.changeControl(r.document.getElementById(h));c.range.update(e,c.getStyleVal(e),c)}c.radio.update(d,c.getStyleVal(d),
c)},render(a,b){const c=["top","right","bottom","left"],d=k.createElement("ul"),e=a.id,f=q.extend(!0,{},a),g=this,h=q.extend(!0,{},a);h.options=[{value:"all",name:b.label.all,"class":"style_apply_all",icon:'<i class="tic-border-all"></i>',label_class:"tb_radio_label_borders"}];h.option_js=!0;h.id=e+"-type";h.no_toggle=!0;h["default"]="top";h.prop=null;f.options=b.static.border;f.prop=null;d.className="tb_seperate_items tb_borders tb_group_element_border";for(let l=0;4>l;++l){let n=k.createElement("li");
var m=e+"_"+c[l];h.options.push({value:c[l],name:b.label[c[l]],icon:'<i class="tic-border-'+c[l]+'"></i>',label_class:"tb_radio_label_borders"});n.className="tb_group_element_"+c[l];"top"===c[l]&&(n.className+=" tb_group_element_all");b.styles[m+"_color"]={prop:"border-"+c[l],selector:a.selector};f.id=m+"_color";f.type="color";f.class="border_color";n.appendChild(b.color.render(f,b));b.styles[m+"_width"]={prop:"border-"+c[l],selector:a.selector};f.id=m+"_width";f.type="range";f.class="border_width";
f.wrap_class="range_wrapper";f.units={px:{min:0,max:300}};n.appendChild(b.range.render(f,b));b.styles[m+"_style"]={prop:"border-"+c[l],selector:a.selector};f.id=m+"_style";f.type="select";f.class="border_style tb_multi_field";m=b.select.render(f,b);let p=m.querySelector("select");n.appendChild(m);d.appendChild(n);p.addEventListener("change",function(a){g.changeControl(this)},{passive:!0});"none"===p.value&&g.changeControl(p)}a=k.createDocumentFragment();a.appendChild(b.radioGenerate("icon_radio",
h,b));g.apply_all(d,a.querySelector("#"+h.id));a.appendChild(d);return a}},slider:{render(a,b){["crossfade","cover-fade","uncover-fade"].includes(b.values.effect_slider)&&(b.values.effect_slider="fade");return b.create(b.getOptions(a))}},custom_css:{render(a,b){a.class="large";a.control=!1;a.help=b.label.custom_css_help;b=b.text.render(a,b);l.Utils.changeOptions(b.querySelector("#"+a.id),a.type);return b}},custom_css_id:{render(a,b){b=b.create([{id:"custom_css_id",type:"text",label:b.label.id_name,
help:b.label.id_help,control:!1,"class":"large"}],b);l.Utils.changeOptions(b.querySelector("#custom_css_id"),a.type);return b}},hidden:{render(a,b){const c=k.createElement("input"),d=b.getStyleVal(a.id);c.type="hidden";!0===b.is_repeat?(c.className=!0===b.is_sort?"tb_lb_sort_child":"tb_lb_option_child",c.dataset.inputId=a.id):(c.className="tb_lb_option",c.id=a.id);void 0!==a.class&&(c.className+=" "+a.class);void 0!==d?c.value=d:void 0!==a.value&&(c.value=a.value);return b.initControl(c,a)}},frame:{render(a,
b){a.options=b.static.frame;a.class="tb_frame";a.binding={not_empty:{show:["tb_frame_multi_wrap","tb_frame_color"]},empty:{hide:["tb_frame_multi_wrap","tb_frame_color"]}};return b.layout.render(a,b)}},title:{render(a,b){a.class="large";a.control={event:"keyup",control_type:"change",selector:".module-title"};return b.text.render(a,b)}},url:{render(a,b){a.input_type="url";return b.text.render(a,b)}},advacned_link:{render(a,b){return b.create([{id:"link",type:"radio",label:"l",wrap_class:" tb_compact_radios",
link_to:!0,binding:{permalink:{show:["open_link"],hide:["custom_link"]},custom:{show:["custom_link"],hide:["open_link"]},none:{hide:["custom_link","open_link","no_follow"]}}},{id:"custom_link",type:"url",label:"cl"},{id:"open_link",type:"radio",label:"o_l",link_type:!0,control:!1,wrap_class:" tb_compact_radios",binding:{lightbox:{show:["tb_t_m_lightbox"]},regular:{hide:["tb_t_m_lightbox"]},newtab:{hide:["tb_t_m_lightbox"]}}},{type:"multi",wrap_class:"tb_t_m_lightbox",label:"lg",options:[{id:"lightbox_w",
type:"range",label:"w",control:!1,units:{px:{min:0,max:1E3},"%":{min:0,max:100}}},{id:"lightbox_h",type:"range",label:"ht",control:!1,units:{px:{min:0,max:1E3},"%":{min:0,max:100}}}]}])}},button:{render(a,b){const c=k.createElement("button");c.className="builder_button";c.id=a.id;void 0!==a.class&&(c.className+=" "+a.class);c.textContent=a.name;return b.initControl(c,a)}},row_anchor:{render(a,b){a.control=!1;b=b.text.render(a,b);l.Utils.changeOptions(b.querySelector("#"+a.id),a.type);return b}},widget_form:{render(a,
b){b=k.createElement("div");b.id=a.id;b.className="module-widget-form-container wp-core-ui tb_lb_option";return b}},widget_select:{data:null,el:null,cache:[],mediaInit:null,textInit:null,render(a,b){const c=k.createDocumentFragment(),d=k.createElement("div"),e=k.createElement("i"),f=k.createElement("input"),g=k.createElement("div"),h=k.createElement("div");d.id="available-widgets-filter";d.className="selectwrapper";e.className="tb_loading_widgets tf_loader";f.type="text";f.id="widgets-search";f.dataset.validation=
"not_empty";f.dataset.errorMsg=b.label.widget_validate;f.autocomplete="off";f.placeholder=b.label.search_widget;g.id="available-widgets";g.className="tf_scrollbar";g.tabIndex=1;h.id=a.id;h.className="tb_lb_option tb_widget_select";this.el=h;d.appendChild(e);d.appendChild(f);g.appendChild(h);c.appendChild(d);c.appendChild(g);const m=this,p=b.values[a.id],n=function(){const c=[],d=function(b,d){for(var e=c.length-1;-1<e;--e)c[e].classList.remove("selected");b.classList.add("selected");e=b.dataset.value;
f.value=b.getElementsByClassName("widget-title")[0].textContent;g.style.display="none";m.select(e,m.data[e].b,d,a)};for(let e in m.data){let f=k.createElement("div");var n=k.createElement("div");let g=k.createElement("h3");f.className="widget-tpl "+m.data[e].b;f.dataset.value=e;n.className="widget-title";g.textContent=m.data[e].n;n.appendChild(g);f.appendChild(n);f.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();b.settings[a.id]=this.dataset.value;d(this,null)});c.push(f);
void 0!==m.data[e].d&&(n=k.createElement("div"),n.className="widget-description",n.innerHTML=m.data[e].d,f.appendChild(n));h.appendChild(f);p===e&&d(f,b.values.instance_widget)}m.search(f,g);e.parentNode.removeChild(e);l.hasChanged=!0};if(null===m.data){q.ajax({type:"POST",url:themifyBuilder.ajaxurl,dataType:"json",data:{action:"tb_get_widget_items",nonce:themifyBuilder.tb_load_nonce},success(a){m.data=a;n()}});for(let a in themifyBuilder.widget_css)r.Themify.LoadCss(themifyBuilder.widget_css[a],
themify_vars.version);themifyBuilder.widget_css=null}else setTimeout(n,5);return c},search(a,b){const c=this;a.addEventListener("focus",this.show.bind(this),{passive:!0});a.addEventListener("blur",function(a){a.relatedTarget&&"available-widgets"===a.relatedTarget.id||(b.style.display="none")},{passive:!0});a.addEventListener("keyup",function(a){c.show();a=this.value.trim();const b=new RegExp(a,"i"),d=c.el.getElementsByClassName("widget-tpl");for(let c=0,e=d.length;c<e;++c)if(""===a)d[c].style.display=
"block";else{let a=d[c].getElementsByTagName("h3")[0];a=a.textContent||a.innerText;b.test(a)?d[c].style.display="block":d[c].style.display="none"}},{passive:!0})},show(){this.el.closest("#available-widgets").style.display="block"},hide(){this.el.closest("#available-widgets").style.display="none"},select(a,b,c,d){const e=this,f=q("#instance_widget",x.Lightbox.$lightbox),g=function(g){const h=function(){const h=q(g.form);f.addClass("open").html(h.html());if(c)for(let a in c)h.find('[name="'+a+'"]').val(c[a]);
"text"===b?wp.textWidgets&&(e.textInit||(e.textInit=!0,wp.textWidgets.init()),c&&delete wp.textWidgets.widgetControls[c["widget-id"]]):wp.mediaWidgets&&(e.mediaInit||(wp.mediaWidgets.init(),e.mediaInit=!0),c&&delete wp.mediaWidgets.widgetControls[c["widget-id"]]);q(k).trigger("widget-added",[f]);"text"===b&&ThemifyConstructor.initControl(f.find(".wp-editor-area")[0],{control:{control_type:"wp_editor",type:"refresh"}});if("visual"===l.mode){const b=q.extend(!0,{},d);b.id=f[0].id;f.on("change",":input",
function(){!1===l.is_ajax_call&&ThemifyConstructor.control.widget_select(f,b)});a&&ThemifyConstructor.control.widget_select(f,b)}f.removeClass("tb_loading_widgets_form").find("select").wrap('<span class="selectwrapper"/>')},p=function(a,b){const c=a.length;(function(a,b){v.LoadAsync(a,b,g.v)})(a[b].src,function(){if(a[b].extra&&a[b].extra.after){{var d=a[b].extra.after;let c="";if("object"===typeof d)for(var e in d)d[e]&&(c+=d[e]);""!==c&&(d=k.createElement("script"),e=k.getElementsByTagName("script")[0],
d.type="text/javascript",d.text=c,e.parentNode.insertBefore(d,e))}}++b;b<c?p(a,b):h()})};void 0===e.cache[b]?(g.template&&k.body.insertAdjacentHTML("beforeend",g.template),0<g.src.length?p(g.src,0):h()):h()};f.addClass("tb_loading_widgets_form").html('<div class="tf_loader"></div>');c&&q.each(c,function(a,b){const d=a.match(/.*\[\d\]\[(.*)\]/);q.isArray(d)&&"undefined"!==d[1]&&(delete c[a],c[d[1]]=b)});q.ajax({type:"POST",dataType:"json",url:themifyBuilder.ajaxurl,data:{action:"module_widget_get_form",
tb_load_nonce:themifyBuilder.tb_load_nonce,load_class:a,tpl_loaded:1===e.cache[b]?1:0,id_base:b,widget_instance:c},success(a){a&&a.form&&(g(a),e.cache[b]=1)}})}},message:{render(a,b){b=k.createElement("div");void 0!==a.class&&(b.className+=a.class);b.innerHTML=a.comment;return b}},filters:{render(a,b){const c={hue:{label:b.label.hue,units:{deg:{min:0,max:360}},prop:"hue-rotate"},saturation:{label:b.label.sat,units:{"%":{min:0,max:200}},prop:"saturate"},brightness:{label:b.label.bri,units:{"%":{min:0,
max:200}},prop:"brightness"},contrast:{label:b.label.con,units:{"%":{min:0,max:200}},prop:"contrast"},invert:{label:b.label.inv,units:{"%":{min:0,max:100}},prop:"invert"},sepia:{label:b.label.se,units:{"%":{min:0,max:100}},prop:"sepia"},opacity:{label:b.label.op,units:{"%":{min:0,max:100}},prop:"opacity"},blur:{label:b.label.bl,units:{px:{min:0,max:50}},prop:"blur"}},d=k.createElement("ul"),e=a.id,f=q.extend(!0,{},a);f["class"]="tb_filters_field";f.prop=null;d.className="tb_seperate_items tb_filters_fields";
for(let g in c)if(void 0!==c[g]){let h=c[g],l=k.createElement("li"),p=k.createElement("div"),n=k.createElement("span"),q=e+"_"+g;f.id=q;f.units=h.units;f.selector=a.selector;p.className="tb_label";n.className="tb_label_text";n.textContent=h.label;p.appendChild(n);l.appendChild(p);l.appendChild(b.range.render(f,b));d.appendChild(l);b.styles[q]={prop:h.prop,selector:a.selector}}return d}},help(a){const b=k.createElement("div"),c=k.createElement("div"),d=k.createElement("i");b.className="tb_help";c.className=
"tb_help_content";d.tabIndex=-1;d.className="icon";c.innerHTML=a;d.appendChild(tb_app.Utils.getIcon("ti-help"));b.appendChild(d);b.appendChild(c);return b},tooltip(a){const b=k.createElement("span");b.className="tb_tooltip_up";b.textContent=a;return b},description(a){const b=k.createElement("small");b.innerHTML=a;return b},after(a){const b=k.createElement("span");b.className="tb_input_after";b.textContent=a.after;void 0!==a.label&&""!==a.label||void 0===a.help||""===a.help||b.appendChild(this.help(a.help));
return b},height:{update(a,b,c){c.checkbox.update(a,c.getStyleVal(a),c)},render(a,b){a.isHeight=!0;const c=k.createDocumentFragment(),d=q.extend(!0,{},a);d.label="ht";d.type="range";d.id=a.id;d.prop="height";d.wrap_class="tb_group_element_"+a.id+"_height tf_inline_b";d.units={px:{min:0,max:1200},vh:{min:0,max:100},"%":{min:0,max:100},em:{min:0,max:200}};b.range.render(d,b);b.styles[a.id]={prop:"height",selector:a.selector};b.styles[a.id+"_auto_height"]={prop:"height",selector:a.selector};c.appendChild(b.range.render(d,
b));c.appendChild(b.checkboxGenerate("checkbox",{id:a.id+"_auto_height",heightID:a.id,type:"checkbox",isHeight:!0,wrap_checkbox:"tf_inline_b",prop:"height",binding:{checked:{hide:["tb_group_element_ht_height"]},not_checked:{show:["tb_group_element_ht_height"]}},options:[{value:b.label.a_ht,name:"auto"}]}));return c}},toggle_switch:{update(a,b,c){c.checkbox.update(a,c.getStyleVal(a),c)},controlChange(a,b){a.addEventListener("change",function(){this.value=!0===this.checked?b.on.name:void 0!==b.off?
b.off.name:"";"visibility"===ThemifyConstructor.clicked&&null!==l.activeModel&&l.Utils.visibilityLabel(v.body[0].querySelector("[data-cid="+l.activeModel.cid+"]"),l.Forms.serialize("tb_options_visibility"))},{passive:!0})},render(a,b){var c=q.extend(!0,{},a);const d={},e=k.createElement("div");let f="off",g=b.getStyleVal(a.id);c.control=!1;c["class"]=void 0===c["class"]?"toggle_switch":c["class"]+" toggle_switch";var h=c.options;if(void 0===h||"simple"===h)"simple"===h?h={on:{name:"yes",value:b.label.y},
off:{name:"no",value:b.label.no}}:(h={on:{name:"no",value:b.label.s},off:{name:"yes",value:b.label.hi}},void 0===c["default"]&&(c["default"]="on"));void 0===g?("on"===c["default"]&&(f="on"),g="on"===f?h.on.name:void 0!==h.off?h.off.name:""):(!1===g&&(g=""),f=h.on.name===g?"on":"off");for(var l in h)void 0===c.after&&void 0!==h[l].value&&e.setAttribute("data-"+l,void 0!==b.label[h[l].value]?b.label[h[l].value]:h[l].value),d[l]=h[l];l=Object.keys(h)[0];delete c.binding;delete h[l].value;delete c["default"];
c.options=[h[l]];void 0===c.wrap_checkbox&&(c.wrap_checkbox="");c.wrap_checkbox+=" tb_switcher";e.className="switch_label";c=b.checkboxGenerate("checkbox",c);h=c.querySelector(".toggle_switch");h.value=g;h.checked="on"===f;this.controlChange(h,d);h.parentNode.appendChild(e);b.initControl(h,a);return c}},width:{update(a,b,c){c.checkbox.update(a,c.getStyleVal(a),c)},render(a,b){a.isWidth=!0;var c={id:a.id+"_auto_width",widthID:a.id,type:"checkbox",isWidth:!0,prop:"width",options:[{value:b.label.a_wd,
name:"auto"}]};b.styles[a.id+"_auto_width"]={prop:"width",selector:a.selector};c=b.checkboxGenerate("checkbox",c);const d=c.querySelector(".tb_lb_option"),e=c.querySelector("input"),f=q.extend(!0,{},a);e.addEventListener("change",function(b){const c=r.document.getElementsByClassName("tb_group_element_"+a.id+"_width")[0];b.target.checked?c.classList.add("hide-auto-height"):c.classList.remove("hide-auto-height")});f.label="w";f.type="range";f.id=a.id;f.prop="width";f.wrap_class="tb_group_element_"+
a.id+"_width";"auto"===b.values[a.id+"_auto_width"]&&(f.wrap_class+=" hide-auto-height");f.units={px:{min:-2E3,max:2E3},"%":{min:0,max:100,increment:1},em:{min:-20,max:20}};const g=b.create([f]);f.wrap_class="";f.label="mi_wd";f.id="min_"+a.id;f.prop="min-width";const h=b.create([f]);b.styles[f.id]={prop:f.prop,selector:a.selector};f.label="ma_wd";f.id="max_"+a.id;f.prop="max-width";const k=b.create([f]);b.styles[f.id]={prop:f.prop,selector:a.selector};b.afterRun.push(function(){const a=d.parentNode.closest(".tb_field");
a.parentNode.insertBefore(g,a);a.parentNode.insertBefore(k,a.nextSibling);a.parentNode.insertBefore(h,a.nextSibling)});return c}},position:{render(a,b){const c={top:b.label.top,right:b.label.right,bottom:b.label.bottom,left:b.label.left},d=k.createElement("ul"),e=k.createElement("li"),f=k.createDocumentFragment(),g=k.createDocumentFragment(),h=a.id,l=q.extend(!0,{},a),p=q.extend(!0,{},a);p.options=[];p.option_js=!0;p.id=h+"-type";p.no_toggle=!0;p["default"]="top";p.prop=null;d.className="tb_seperate_items tb_group_element_position";
for(let d in c){let e=k.createElement("li"),g=h+"_"+d;p.options.push({value:d,name:b.label[c[d]],icon:'<i class="tic-border-'+d+'"></i>',label_class:"tb_radio_label_borders"});e.className="tb_group_element_"+d;b.styles[g]={prop:d,selector:a.selector};l.id=g;l.type="range";l.prop="position";l.wrap_class="range_wrapper "+g;l.units={px:{min:-2E3,max:2E3},"%":{min:0,max:100}};e.appendChild(b.range.render(l,b));b.styles[g+"_auto"]={prop:"position",selector:a.selector};e.appendChild(b.checkboxGenerate("checkbox",
{id:g+"_auto",is_position:!0,posId:g,prop:d,type:"checkbox",selector:a.selector,options:[{name:"auto",value:b.label.auto}],wrap_checkbox:"tf_inline_b",binding:{checked:{hide:[g]},not_checked:{show:[g]}}}));f.appendChild(e)}e.appendChild(b.radioGenerate("icon_radio",p,b));d.insertBefore(e,d.childNodes[0]);d.appendChild(f);b.styles[h]={prop:"position",selector:a.selector};l.id=h;l.binding={empty:{hide:["tb_group_element_position"]},absolute:{show:["tb_group_element_position"]},fixed:{show:["tb_group_element_position"]},
relative:{hide:["tb_group_element_position"]},"static":{hide:["tb_group_element_position"]}};l.type="select";l.prop="position";l.options={"":"",absolute:b.label.abs,fixed:b.label.fi,relative:b.label.re,"static":b.label.st};l.class="tb_position_field tb_multi_field";g.appendChild(b.select.render(l,b));g.appendChild(d);return g}}}})(jQuery,Themify,window.top,document);
