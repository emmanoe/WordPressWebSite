'use strict';(function(c,n,h){let k,l,m="click";h.isTouch&&(m+=" touchend");const f=function(a,d){return/touch/.test(a.type)?(a.originalEvent||a).changedTouches[0]["page"+d]:a["page"+d]},p=function(a,d){const e=a.find(".sub-menu, .children").first(),b=a.find("> a .child-arrow");let g="open";!0===d?(e.css("visibility","visible").slideDown(),a.addClass("dropdown-open toggle-on"),b.removeClass("closed").addClass("open")):(e.slideUp(function(){c(this).css("visibility","hidden")}),a.removeClass("dropdown-open toggle-on"),
b.removeClass("open").addClass("closed"),g="close");a.trigger("dropdown_"+g)},q=function(){if(h.isTouch)h.body.on("touchstart",".child-arrow, .with-sub-arrow a",function(a){a.stopPropagation();k=f(a,"X");l=f(a,"Y")});h.body.on(m,".child-arrow",function(a){a.stopPropagation();if("click"===a.type||20>Math.abs(f(a,"X")-k)&&20>Math.abs(f(a,"Y")-l)){a=c(this).closest("li");const d=c(this).parents(".dropdown-open");c(this).closest(".with-sub-arrow").find("li.dropdown-open").not(d).each(function(){p(c(this),
!1)});p(a,!a.hasClass("dropdown-open"))}return!1}).on(m,".with-sub-arrow a",function(a){if(20>Math.abs(f(a,"X")-k)&&20>Math.abs(f(a,"Y")-l)&&"#"===c(this).attr("href"))return a.stopPropagation(),c(this).find("> .child-arrow").click(),!1})};h.on("tf_dropdown_init",function(a){a instanceof jQuery&&(a=a.get());void 0===a.length&&(a=[a]);for(let c=a.length-1;-1<c;--c)if(!a[c].classList.contains("with-sub-arrow")){a[c].className+=" with-sub-arrow";let f=a[c].getElementsByClassName("menu-item-has-children");
for(var d=f.length-1;-1<d;--d){var e=f[d].children;for(var b=e.length-1;-1<b;--b)if("A"===e[b].tagName&&!e[b].getElementsByClassName("child-arrow")[0]&&!e[b].classList.contains("themify_lightbox")){var g=n.createElement("span");g.className="child-arrow closed";e[b].appendChild(g)}}f=a[c].getElementsByClassName("page_item_has_children");for(d=f.length-1;-1<d;--d)for(e=f[d].children,b=e.length-1;-1<b;--b)"A"!==e[b].tagName||e[b].getElementsByClassName("child-arrow")[0]||e[b].classList.contains("themify_lightbox")||
(g=n.createElement("span"),g.className="child-arrow closed",e[b].appendChild(g))}q()})})(jQuery,document,Themify);
