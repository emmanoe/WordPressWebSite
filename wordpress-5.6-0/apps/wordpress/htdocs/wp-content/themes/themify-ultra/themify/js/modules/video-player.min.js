'use strict';(function(h,b){let M=null;const t=h.isTouch?"touchstart":"click",D=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),p=function(a){a=Infinity===a?0:a;a=(new Date(1E3*a)).toISOString().substr(11,8).split(":");"00"===a[0]&&a.splice(0,1);return a.join(":")},E=function(a){if(a.requestFullscreen)return a.requestFullscreen();if(a.webkitEnterFullscreen)return a.webkitEnterFullscreen();if(a.webkitrequestFullscreen)return a.webkitRequestFullscreen();if(a.mozRequestFullscreen)return a.mozRequestFullScreen()},
N=function(a){return b.exitFullscreen?"":b.webkitExitFullscreen||a.webkitSupportsFullscreen?"webkit":b.mozCancelFullScreen?"moz":b.msExitFullscreen?"ms":!1},O=function(a){const c=N(a);return!1===c?!1:a.hasOwnProperty("webkitDisplayingFullscreen")?a.webkitDisplayingFullscreen:""===c?b.fullscreenElement:b[c+"FullscreenElement"]},u=function(a){const c=b.createElementNS("http://www.w3.org/2000/svg","use"),q=b.createElementNS("http://www.w3.org/2000/svg","svg");a="tf-"+a;q.setAttribute("class","tf_fa "+
a);c.setAttributeNS(null,"href","#"+a);q.appendChild(c);return q},T=function(){if(b.exitFullscreen)return b.exitFullscreen();if(b.webkitExitFullscreen||b.webkitExitFullscreen)return b.webkitExitFullscreen();if(b.mozCancelFullScreen)return b.mozCancelFullScreen();if(b.msExitFullscreen)return b.msExitFullscreen()},v=function(a,c){c=b.createDocumentFragment();const q=N(a),d=a.parentNode;var e=b.createElement("div");const f=b.createElement("div"),P=b.createElement("div"),n=b.createElement("div"),F=b.createElement("div"),
G=b.createElement("div"),m=b.createElement("div"),g=b.createElement("input"),k=b.createElement("input"),w=b.createElement("div"),H=b.createElement("div"),I=b.createElement("div"),l=b.createElement("button"),v=b.createElement("button"),J=b.createElement("button"),x=b.createElement("div");d.closest(".track");const y=b.createElement("div"),r=b.createElement("button"),z=b.createElement("button"),A=b.createElement("button");let B=!0,C=!1,Q=!1,K=null;P.className="tf_loader";e.className="tf_video_container tf_w tf_rel tf_box";
f.className="tf_video_wrap tf_w tf_box";I.className="tf_video_controls";n.className="tf_video_progress_wrap tf_rel tf_textl";F.className="tf_video_progress_loaded tf_w tf_h tf_abs";G.className="tf_video_progress_current tf_w tf_h tf_abs";g.className="tf_video_progress_range tf_w tf_h tf_abs";k.min=g.min=0;k.max=g.max=100;k.type=g.type="range";g.value=0;k.value=50;w.className="tf_video_volumn_wrap tf_rel";H.className="tf_video_volumn_inner";k.className="tf_video_volumn_range";l.className="tf_video_mute tf_rel tf_overflow";
J.className="tf_video_play";v.className="tf_video_play tf_big_video_play";d.tabIndex=0;a.muted&&(l.className+=" tf_muted");z.className="tf_video_seek tf_video_seek_left tf_abs";A.className="tf_video_seek tf_video_seek_right tf_abs";x.className="tf_video_current_time";y.className="tf_video_total_time";m.className="tf_video_hover tf_abs tf_hide tf_box tf_textc";r.className="tf_video_fullscreen";x.textContent=p(a.currentTime);y.textContent=p(a.duration);e=function(a){d.classList.add("tf_video_waiting");
this.addEventListener("seeking"===a.type?"seeked":"playing",function(){d.classList.remove("tf_video_waiting")},{passive:!0,once:!0})};const L=function(){d.classList.add("tf_video_touch");d.classList.remove("tf_hide_controls");K&&clearTimeout(K);K=setTimeout(function(){d.classList.remove("tf_video_touch")},2500)},S=function(){!1===Q&&"desktop"!==h.device&&(Q=!0,a.muted=!0);a.play()};f.addEventListener(t,function(a){a.stopPropagation()},{passive:!0});d.addEventListener(t,function(b){const c=b.target.closest(".tf_video_seek");
b.stopImmediatePropagation();a.paused||"click"===b.type||!c&&this.classList.contains("tf_video_touch")?(this.classList.remove("tf_video_touch"),a.paused?S():a.pause()):(L(),c&&(a.currentTime+=c.classList.contains("tf_video_seek_left")?-10:10))},{passive:!0});J.addEventListener(t,function(b){a.paused?S():a.pause()},{passive:!0});l.addEventListener(t,function(b){a.muted=!a.muted;a.muted||0!==a.volume||(k.value=50,h.triggerEvent(k,"input"))},{passive:!0});h.isTouch||n.addEventListener("mouseenter",function(b){if(!isNaN(a.duration)){m.classList.remove("tf_hide");
const b=this.clientWidth,c=parseFloat(m.clientWidth/2),d=a.duration,R=function(a){a=void 0!==a.layerX?a.layerX:a.offsetX;0<a-c&&a<=b&&(m.style.transform="translateX("+(a-c)+"px)",!1===C&&(m.textContent=p(parseFloat(a/b)*d)))};this.addEventListener("mouseleave",function(){m.classList.add("tf_hide");this.removeEventListener("mousemove",R,{passive:!0})},{passive:!0,once:!0});this.addEventListener("mousemove",R,{passive:!0})}},{passive:!0});g.addEventListener("input",function(b){b.preventDefault();isNaN(a.duration)||
(a.paused||!0!==B||a.pause(),C=!0,b=parseInt(this.value),b=100===b?a.duration-1:parseFloat(b*a.duration/100).toFixed(4),a.currentTime=b,h.isTouch||(m.textContent=p(b)))});g.addEventListener("change",function(b){b.preventDefault();isNaN(a.duration)||(C=B=!1,a.paused&&a.play().then(a=>{B=!0}).catch(a=>{B=!0}))});a.addEventListener("progress",function(){0<this.buffered.length&&(F.style.transform="scaleX("+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+")")},{passive:!0});a.addEventListener("durationchange",
function(){y.textContent=p(this.duration)},{passive:!0});a.addEventListener("seeking",e,{passive:!0});a.addEventListener("waiting",e,{passive:!0});a.addEventListener("emptied",e,{passive:!0});a.addEventListener("pause",function(){d.classList.remove("tf_video_is_playing")},{passive:!0});a.addEventListener("play",function(){d.classList.add("tf_video_is_playing");const a=b.getElementsByTagName("video");for(let b=a.length-1;-1<b;--b)a[b]!==this&&a[b].pause()},{passive:!0});a.addEventListener("timeupdate",
function(){if(!isNaN(this.duration)){x.textContent=p(this.currentTime);const b=parseFloat(this.currentTime/a.duration);G.style.transform="scaleX("+b.toFixed(4)+")";!1===C&&(g.value=parseInt(100*b))}},{passive:!0});D||k.addEventListener("input",function(b){b.preventDefault();b=parseFloat(this.value/100).toFixed(3);a.volume=b;a.muted=0<b?!1:!0});a.addEventListener("volumechange",function(){!0===this.muted||0===this.volume?l.classList.add("tf_muted"):l.classList.remove("tf_muted")},{passive:!0});if(!1!==
q){let b=!1,c=!1;const f=function(){g(!0);c&&clearTimeout(c);c=setTimeout(g,3E3)},g=function(a){!0===b||!0===a?(b=!1,d.classList.remove("tf_hide_controls")):(b=!0,d.classList.add("tf_hide_controls"))};e=function(b){b.preventDefault();O(a)?T(a):(b=E(d))?"function"===typeof b.then&&b.catch(b=>{E(a)}):E(a)};r.addEventListener(t,e);h.isTouch||d.addEventListener("dblclick",e);d.addEventListener(q+"fullscreenchange",function(b){O(a)?(d.classList.add("tf_is_fullscreen"),d.addEventListener("mousemove",f,
{passive:!0}),a.addEventListener("pause",f,{passive:!0}),c&&clearTimeout(c),c=setTimeout(g,3E3)):(d.classList.remove("tf_is_fullscreen","tf_hide_controls"),c&&clearTimeout(c),a.removeEventListener("pause",f,{passive:!0}),d.removeEventListener("mousemove",f,{passive:!0}))},{passive:!0})}else r.className+=" tf_fullscreen_disabled tf_play_disabled";n.appendChild(F);n.appendChild(g);n.appendChild(G);n.appendChild(m);l.appendChild(u("fas-volume-up"));l.appendChild(u("fas-volume-mute"));w.appendChild(l);
D||(H.appendChild(k),w.appendChild(H));f.appendChild(I);f.appendChild(x);f.appendChild(n);f.appendChild(y);f.appendChild(w);r.appendChild(u("ti-fullscreen"));f.appendChild(r);I.appendChild(J);A.innerHTML=z.innerHTML="<span>10</span>";A.appendChild(u("fas-redo-alt"));z.appendChild(u("fas-undo-alt"));c.appendChild(z);c.appendChild(A);c.appendChild(f);c.appendChild(v);c.appendChild(P);d.appendChild(c);a.setAttribute("webkit-playsinline","1");a.setAttribute("playsinline","1");a.removeAttribute("controls");
d.classList.remove("tf_lazy");null===M&&(M=!0,h.fontAwesome("tf-fas-volume-mute tf-fas-volume-up tf-fas-undo-alt tf-fas-redo-alt tf-far-closed-captioning tf-ti-fullscreen".split(" ")))},L=function(a,b){for(let d=a.length-1;-1<d;--d){let e=a[d];if(null===e.previousElementSibling||!e.previousElementSibling.classList.contains("tf_video_container")){if(!b){var c=e.parentNode.parentNode;if(c.classList.contains("wp-audio-playlist")){let a=c.getElementsByClassName("tf-playlist-script")[0];a||(a=c.getElementsByClassName("wp-playlist-script")[0]);
a&&(b=JSON.parse(a.textContent),"audio"!==b.type&&(b=!1))}}if(!e.hasAttribute("src")&&!e.getElementsByTagName("source")[0]){if(!b||!b.tracks)continue;c=b.tracks[0].src;if(!c)for(let a=1,d=b.tracks.length;a<d;++a)if(b.tracks[a].src){c=b.tracks[a].src;break}if(!c)continue;e.setAttribute("src",c)}4===e.readyState?v(e,b):h.requestIdleCallback(function(){e.addEventListener("loadedmetadata",function(){v(this,b)},{passive:!0,once:!0});e.setAttribute("preload","metadata");!0===D&&e.load()},200)}}};h.on("tf_video_init",
function(a,b){a instanceof jQuery?a=a.get():void 0===a.length&&(a=[a]);L(a,b)})})(Themify,document);
